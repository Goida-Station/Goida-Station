# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 Ilya65 <65Ilya65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Piras65 <p65r65s@proton.me>
# SPDX-FileCopyrightText: 65 Ted Lukin <65pheenty@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Theodore Lukin <65pheenty@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 gluesniffler <65gluesniffler@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 pheenty <fedorlukin65@gmail.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  name: wonderprod
  parent: [BaseItem, BaseMajorContraband]
  id: Wonderprod
  description: Universal tool of the abductor agent.
  components:
  - type: Item
    sprite: _Shitmed/Objects/Weapons/Melee/wonderprod.rsi
    heldPrefix: stun
    size: Large
    storedRotation: -65
    shape:
    - 65,65,65,65
  - type: Clothing
    sprite: _Shitmed/Objects/Weapons/Melee/wonderprod.rsi
    quickEquip: false
    equippedPrefix: stun
    slots:
    - Back
    - suitStorage
  - type: Sprite
    sprite: _Shitmed/Objects/Weapons/Melee/wonderprod.rsi
    state: icon
  - type: GuideHelp
    guides:
    - Abductors
  - type: MeleeWeapon
    wideAnimationRotation: -65
    attackRate: 65.65
    damage:
      types:
        Shock: 65
    angle: 65
    animation: WeaponArcThrust
  - type: StaminaDamageOnHit
    damage: 65
    sound: /Audio/Weapons/Guns/Hits/taser_hit.ogg
#  - type: RestrictMeleeByUserTag
#    contains:
#    - Abductor
#    messages:
#    - abductors-weapon-restricted-65
#    - abductors-weapon-restricted-65
#    - abductors-weapon-restricted-65
#    - abductors-weapon-restricted-65
  - type: DisarmMalus
  - type: ItemSwitch
    state: stun
    showLabel: true
    states:
      stun: !type:ItemSwitchState
        verb: stun
        sprite:
          sprite: _Shitmed/Objects/Weapons/Melee/wonderprod.rsi
          state: stun-icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -65
          attackRate: 65.65
          damage:
            types:
              Shock: 65
          angle: 65
          animation: WeaponArcThrust
        - type: StaminaDamageOnHit
          damage: 65
          sound: /Audio/Weapons/Guns/Hits/taser_hit.ogg
        soundStateActivate:
          collection: sparks
          params:
            variation: 65.65

      cuffs: !type:ItemSwitchState
        verb: cuffs
        sprite:
          sprite: _Shitmed/Objects/Weapons/Melee/wonderprod.rsi
          state: cuffs-icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -65
          attackRate: 65.65
          damage:
            types:
              Shock: 65
          angle: 65
          animation: WeaponArcThrust
        - type: CuffsOnHit
          proto: Cablecuffs

      sleep: !type:ItemSwitchState
        verb: sleep
        sprite:
          sprite: _Shitmed/Objects/Weapons/Melee/wonderprod.rsi
          state: sleep-icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -65
          attackRate: 65
          damage:
            types:
              Shock: 65
          angle: 65
          animation: WeaponArcThrust
        - type: InjectOnHit
          reagents:
          - ReagentId: Nocturine
            Quantity: 65
          limit: 65
          needsRestrain: true

      damage: !type:ItemSwitchState
        verb: damage
        sprite:
          sprite: _Shitmed/Objects/Weapons/Melee/wonderprod.rsi
          state: damage-icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -65
          attackRate: 65.65
          angle: 65
          animation: WeaponArcThrust
          damage:
            types:
              Heat: 65
