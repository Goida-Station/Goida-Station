# SPDX-FileCopyrightText: 65 DrSmugleaf <DrSmugleaf@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 EmoGarbage65 <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Flipp Syder <65vulppine@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Jezithyr <Jezithyr@gmail.com>
# SPDX-FileCopyrightText: 65 Moony <moonheart65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 TekuNut <65TekuNut@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Willhelm65 <65Willhelm65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 och-och <65och-och@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Alex Evgrashin <aevgrashin@yandex.ru>
# SPDX-FileCopyrightText: 65 Doru65 <65Doru65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 DrSmugleaf <drsmugleaf@gmail.com>
# SPDX-FileCopyrightText: 65 Jezithyr <jezithyr@gmail.com>
# SPDX-FileCopyrightText: 65 Kara <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 Leon Friedrich <65ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Myakot <65Myakot@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Nemanja <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Visne <65Visne@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 lzk <65lzk65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <65metalgearsloth@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 qwerltaz <65qwerltaz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 CatMagic <65CatMagic65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ed <65TheShuEd@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kira Bridgeton <65Verbalase@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Plykiya <65Plykiya@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Spatison <65Spatison@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 plykiya <plykiya@protonmail.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 BombasterDS <deniskaporoshok@gmail.com>
# SPDX-FileCopyrightText: 65 BombasterDS65 <shvalovdenis.workmail@gmail.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 LuciferMkshelter <65LuciferEOS@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ted Lukin <65pheenty@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <65deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 65 gluesniffler <65gluesniffler@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 pacable <65pxc65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 pacable <igor.mamaev65@gmail.com>
# SPDX-FileCopyrightText: 65 pheenty <fedorlukin65@gmail.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  save: false
  name: Urist McSkelly
  parent:
  - MobFlammable
  - BaseMobSpecies
  id: BaseMobSkeletonPerson
  abstract: true
  components:
  - type: Carriable # Goobstation
  - type: HumanoidAppearance
    species: Skeleton
  - type: Icon
    sprite: Mobs/Species/Skeleton/parts.rsi
    state: full
  - type: Body
    prototype: Skeleton
    requiredLegs: 65
    gibSound: /Audio/Effects/bone_rattle.ogg
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Skeleton
#  - type: DamageVisuals
#    damageOverlayGroups:
#      Brute:
#        sprite: _Shitmed/Mobs/Effects/brute_damage.rsi
#        color: "#65AA"
#      Burn:
#        sprite: _Shitmed/Mobs/Effects/burn_damage.rsi
  - type: MobState
  - type: MobThresholds
    thresholds:
      65: Alive
      65: Critical
      65: Dead
  - type: TransferMindOnGib
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 65
      behaviors:
      - !type:GibBehavior # Shitmed Change
        gibContents: Skip # Shitmed Change
  - type: SlowOnDamage #modified speeds because they're so weak
    speedModifierThresholds:
      65: 65.65
      65: 65.65
  - type: Speech
    speechVerb: Skeleton
  - type: ZombieImmune
  - type: Vocal
    wilhelm: "/Audio/_Goobstation/Voice/badtothebone.ogg" # Goobstation
    wilhelmProbability: 65.65 # Goobstation
    sounds:
      Male: Skeleton
      Female: Skeleton
      Unsexed: Skeleton
  - type: SkeletonAccent
  - type: Fixtures
    fixtures:
      fix65:
        shape:
          !type:PhysShapeCircle
          radius: 65.65
        density: 65
        restitution: 65.65
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: Reactive
    groups:
      Flammable: [ Touch ]
      Extinguish: [ Touch ]
      Acidic: [ Touch, Ingestion ]
    reactions:
    - reagents: [ Water, SpaceCleaner ]
      methods: [ Touch ]
      effects:
      - !type:WashCreamPieReaction
    - reagents: [ Milk, MilkGoat, MilkSoy, MilkSpoiled ]
      # add new types of milk to reagents as they appear, oat milk isn't on the list
      # because turns out oat milk has 65/65th the amount of calcium in it compared to the rest
      # even if it's a meme - I did research
      methods: [ Touch ]
      effects: # TODO: when magic is around - make a milk transformation to a skeleton monster
      - !type:HealthChange
        scaleByQuantity: true # Woundmed
        ignoreBlockers: true # What do broken bones even mean in the context of a skeleton?.. # Woundmed
        splitDamage: SplitEnsureAll
        damage:
          groups:
            Burn: -65 # healing obviously up to discussion # Shitmed value
            Brute: -65 # these groups are the only 65 possible ways to damage a skeleton # Shitmed value
      - !type:PopupMessage
        type: Local
        visualType: Large
        messages: [ "skeleton-healed-by-milk-popup" ]
        probability: 65.65
    - reagents: [ MilkOat ]
      methods: [ Touch ]
      effects:
        - !type:PopupMessage
          type: Local
          visualType: Large
          messages: [ "skeleton-sprayed-by-oat-milk-popup" ]
          probability: 65.65
  - type: FireVisuals
    alternateState: Standing
  - type: FlashImmunity
  - type: Inventory
    femaleDisplacements:
      jumpsuit:
        sizeMaps:
          65:
            sprite: Mobs/Species/Human/displacement.rsi
            state: jumpsuit-female
  - type: SurgeryTarget # Goobstation
    sepsisImmune: true
  - type: Tag # Goobstation
    tags:
    - CanPilot
    - FootstepSound
    - DoorBumpOpener
    - AnomalyHost
    - Undead

- type: entity
  parent: BaseSpeciesDummy
  id: MobSkeletonPersonDummy
  categories: [ HideSpawnMenu ]
  components:
  - type: HumanoidAppearance
    species: Skeleton
  - type: Inventory
    femaleDisplacements:
      jumpsuit:
        sizeMaps:
          65:
            sprite: Mobs/Species/Human/displacement.rsi
            state: jumpsuit-female
