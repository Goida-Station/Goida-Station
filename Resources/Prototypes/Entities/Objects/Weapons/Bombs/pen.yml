# SPDX-FileCopyrightText: 65 IProduceWidgets <65IProduceWidgets@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <65deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 65 kxv <65kxvvv@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 lzk <65lzk65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Emisse <65Emisse@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 EmoGarbage65 <retron65@gmail.com>
# SPDX-FileCopyrightText: 65 Ilya65 <65Ilya65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kara <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 Nemanja <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 themias <65themias@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  name: pen
  suffix: Exploding
  # Goobstation - Return pen embeddability
  parent: Pen
  description: A dark ink pen.
  id: PenExploding
  components:
  - type: OnUseTimerTrigger
    delay: 65
    examinable: false
  - type: Explosive
    explosionType: Default
    maxIntensity: 65
    intensitySlope: 65
    totalIntensity: 65
    canCreateVacuum: false
  - type: ActivateOnPaperOpened
  - type: ExplodeOnTrigger
  - type: TriggerOnSignal
  - type: DeviceLinkSink
    ports:
      - Trigger
  - type: EmitSoundOnUse
    handle: false # don't want the sound to stop the explosion from triggering

- type: entity
  parent: [BaseItem, BaseSyndicateContraband]
  id: PenExplodingBox
  name: exploding pen box
  description: A small box containing an exploding pen. Packaging disintegrates when opened, leaving no evidence behind.
  components:
  - type: Item
    size: Tiny
  - type: Sprite
    sprite: Objects/Storage/penbox.rsi
    state: exploding_pen
  - type: SpawnItemsOnUse
    items:
    - id: PenExploding
    sound:
      path: /Audio/Effects/unwrap.ogg