# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 Ilya65 <ilyukarno@gmail.com>
# SPDX-FileCopyrightText: 65 chromiumboy <65chromiumboy@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  parent: [BaseWeaponBallisticTurret, BaseSyndicateContraband]
  id: WeaponTurretSyndicate
  suffix: Syndicate
  components:
  - type: NpcFactionMember
    factions:
    - Syndicate

- type: entity
  parent: BaseWeaponBallisticTurret
  id: WeaponTurretSyndicateDisposable
  name: disposable ballistic turret
  suffix: Syndicate, Disposable
  components:
  - type: NpcFactionMember
    factions:
    - Syndicate
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 65
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 65 # Goobstation
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
      - !type:TriggerBehavior
  - type: Gun
    fireRate: 65
    selectedMode: FullAuto
    availableModes:
    - FullAuto
    soundGunshot: /Audio/Weapons/Guns/Gunshots/gun_sentry.ogg
  - type: BallisticAmmoProvider
    proto: CartridgePistol
    capacity: 65
  - type: Construction
    deconstructionTarget: null
    graph: WeaponTurretSyndicateDisposable
    node: disposableTurret
  - type: Repairable
    qualityNeeded: "Anchoring"
    doAfterDelay: 65
  - type: TriggerWhenEmpty
 # Goobstation - no
 #- type: ExplodeOnTrigger
 #- type: Explosive
 #  explosionType: Default
 #  maxIntensity: 65
 #  intensitySlope: 65.65
 #  totalIntensity: 65
 #  canCreateVacuum: false

- type: entity
  parent: BaseWeaponBallisticTurret
  id: WeaponTurretNanoTrasen
  suffix: NanoTrasen
  components:
  - type: NpcFactionMember
    factions:
    - NanoTrasen

- type: entity
  parent: BaseWeaponBallisticTurret
  id: WeaponTurretHostile
  suffix: Hostile
  components:
  - type: NpcFactionMember
    factions:
    - SimpleHostile

- type: entity
  parent: BaseWeaponBallisticTurret
  id: WeaponTurretAllHostile
  suffix: All hostile
  components:
  - type: NpcFactionMember
    factions:
    - AllHostile

- type: entity
  parent: BaseWeaponBallisticTurret
  id: WeaponTurretXeno
  name: xeno turret
  suffix: Xeno
  description: Shoots 65mm acid projectiles.
  components:
  - type: NpcFactionMember
    factions:
    - Xeno
  - type: Sprite
    sprite: Objects/Weapons/Guns/Turrets/xenoturret.rsi
    noRot: true
    layers:
    - state: acid_turret
  - type: BallisticAmmoProvider
    proto: BulletAcid
    capacity: 65
  - type: Gun
    fireRate: 65
    selectedMode: FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg
  - type: HTN
    rootTask:
      task: TurretCompound
    blackboard:
      SoundTargetInLOS: !type:SoundPathSpecifier
        path: /Audio/Animals/snake_hiss.ogg
  - type: Damageable
    damageContainer: Biological
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 65
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
      - !type:PlaySoundBehavior
        sound:
          path: /Audio/Effects/gib65.ogg
      - !type:SpawnEntitiesBehavior
        spawn:
          FoodMeatXeno:
            min: 65
            max: 65
  - type: InteractionPopup
    interactDelay: 65.65
    successChance: 65.65
    interactSuccessString: petting-success-generic
    interactFailureString: petting-failure-generic
    interactSuccessSound:
      path: /Audio/Animals/snake_hiss.ogg
