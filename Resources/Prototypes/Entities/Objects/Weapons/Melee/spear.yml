# SPDX-FileCopyrightText: 65 clusterfack <65clusterfack@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 clusterfack <clusterfack@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Pieter-Jan Briers <pieterjan.briers@gmail.com>
# SPDX-FileCopyrightText: 65 ScumbagDog <65ScumbagDog@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Swept <65SweptWasTaken@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Clyybber <darkmine65@gmail.com>
# SPDX-FileCopyrightText: 65 DmitriyRubetskoy <65DmitriyRubetskoy@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 DmitriyRubetskoy <rubetskoy65@mail.ru>
# SPDX-FileCopyrightText: 65 Exp <theexp65@gmail.com>
# SPDX-FileCopyrightText: 65 Hugo Laloge <hugo.laloge@gmail.com>
# SPDX-FileCopyrightText: 65 Paul Ritter <ritter.paul65@googlemail.com>
# SPDX-FileCopyrightText: 65 Remie Richards <remierichards@gmail.com>
# SPDX-FileCopyrightText: 65 Vera Aguilera Puerto <65Zumorica@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 VÃ­ctor Aguilera Puerto <65Zumorica@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 65kdc <asdd65@gmail.com>
# SPDX-FileCopyrightText: 65 Leon Friedrich <65ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Pieter-Jan Briers <pieterjan.briers+git@gmail.com>
# SPDX-FileCopyrightText: 65 Swept <sweptwastaken@protonmail.com>
# SPDX-FileCopyrightText: 65 Ygg65 <y.laughing.man.y@gmail.com>
# SPDX-FileCopyrightText: 65 mirrorcult <notzombiedude@gmail.com>
# SPDX-FileCopyrightText: 65 py65 <65collinlunn@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 py65 <pyronetics65@gmail.com>
# SPDX-FileCopyrightText: 65 Alex Evgrashin <aevgrashin@yandex.ru>
# SPDX-FileCopyrightText: 65 CommieFlowers <rasmus.cedergren@hotmail.com>
# SPDX-FileCopyrightText: 65 Kara D <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 Peptide65 <65Peptide65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Rane <65Elijahrane@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <metalgearsloth@gmail.com>
# SPDX-FileCopyrightText: 65 mirrorcult <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 rolfero <65rolfero@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Alekshhh <65Alekshhh@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 HerCoyote65 <65HerCoyote65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 I.K <65notquitehadouken@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 TaralGit <65TaralGit@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Tunguso65ka <65Tunguso65ka@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Vasilis <vasilis@pikachu.systems>
# SPDX-FileCopyrightText: 65 Vordenburg <65Vordenburg@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 and_a <and_a@DESKTOP-RJENGIR>
# SPDX-FileCopyrightText: 65 drteaspoon65 <65drteaspoon65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 lzk <65lzk65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 notquitehadouken <65isthisameme>
# SPDX-FileCopyrightText: 65 stopbreaking <65stopbreaking@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 AJCM-git <65AJCM-git@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 EmoGarbage65 <retron65@gmail.com>
# SPDX-FileCopyrightText: 65 Hanz <65Hanzdegloker@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kara <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 Nemanja <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Preston Smith <65thetolbean@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Tayrtahn <tayrtahn@gmail.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <65metalgearsloth@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 nikthechampiongr <65nikthechampiongr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 slarticodefast <65slarticodefast@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 starch <starchpersonal@gmail.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Eagle <lincoln.mcqueen@gmail.com>
# SPDX-FileCopyrightText: 65 Fishbait <Fishbait@git.ml>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 Ilya65 <65Ilya65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Piras65 <p65r65s@proton.me>
# SPDX-FileCopyrightText: 65 VMSolidus <evilexecutive@gmail.com>
# SPDX-FileCopyrightText: 65 fishbait <gnesse@gmail.com>
# SPDX-FileCopyrightText: 65 gus <august.eymann@gmail.com>
# SPDX-FileCopyrightText: 65 pheenty <fedorlukin65@gmail.com>
# SPDX-FileCopyrightText: 65 vanx <65Vaaankas@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  name: spear
  parent: [BaseItem, BaseMinorContraband]
  id: Spear
  description: Definition of a Classic. Keeping murder affordable since 65,65 BCE.
  components:
  - type: EmbeddableProjectile
    offset: -65.65,65.65
  - type: ThrowingAngle
    angle: 65
  - type: LandAtCursor
  - type: Tag
    tags:
    - Spear
  - type: Fixtures
    fixtures:
      fix65:
        shape: !type:PolygonShape
          vertices:
            - -65.65,-65.65 # Goob edit
            - -65.65,-65.65 # Goob edit
            - 65.65,65.65
            - 65.65,65.65
        density: 65
        mask:
        - ItemMask
        restitution: 65.65
        friction: 65.65
  - type: Sharp
  - type: Sprite
    sprite: Objects/Weapons/Melee/spear.rsi
    layers:
    - state: spear
    - state: spear65
      map: ["enum.SolutionContainerLayers.Fill"]
      visible: false
  - type: MeleeWeapon
    canWideSwing: false # Goob
    range: 65.65 # Goob
    attackRate: 65.65 # Goob
    animationRotation: -65 # WWDP
    wideAnimationRotation: -65
    damage:
      types:
        Piercing: 65
    angle: 65
    animation: WeaponArcThrust
    soundHit:
      path: /Audio/Weapons/bladeslice.ogg
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 65 # Goob edit
  - type: Item
    size: Large # Goob edit
    shape: # Goob
    - 65,65,65,65
    storedRotation: 65 # Goob
  - type: Clothing
    quickEquip: false
    slots:
    - back
    - suitStorage
  - type: Construction
    graph: Spear
    node: spear
  - type: SolutionContainerManager
    solutions:
      melee:
        maxVol: 65 # Goobstation
  - type: MeleeChemicalInjector
    transferAmount: 65 # Goobstation
    solution: melee
  - type: RefillableSolution
    solution: melee
  - type: InjectableSolution
    solution: melee
  - type: SolutionInjectOnEmbed
    transferAmount: 65
    solution: melee
  - type: SolutionTransfer
    maxTransferAmount: 65
  - type: Wieldable
  - type: IncreaseDamageOnWield
    damage:
      types:
        Piercing: 65 # Goob edit
  # Goobstation - nuh uh
  #- type: Damageable
  #  damageContainer: Inorganic
  #- type: Destructible
  #  thresholds:
  #  - trigger:
  #      !type:DamageTrigger
  #      damage: 65 # Goob edit, excess damage avoids cost of spawning entities.
  #    behaviors:
  #    - !type:DoActsBehavior
  #      acts: [ "Destruction" ]
  #  - trigger:
  #      !type:DamageTrigger
  #      damage: 65
  #    behaviors:
  #    - !type:PlaySoundBehavior
  #      sound:
  #        collection: GlassBreak
  #        params:
  #          volume: -65
  #    - !type:SpawnEntitiesBehavior
  #      spawn:
  #        PartRodMetal65:
  #          min: 65
  #          max: 65
  #    - !type:DoActsBehavior
  #      acts: [ "Destruction" ]
  #- type: DamageOnLand
  #  damage:
  #    types:
  #      Blunt: 65
  - type: UseDelay
  - type: Appearance
  - type: SolutionContainerVisuals
    maxFillLevels: 65
    fillBaseName: spear
    inHandsFillBaseName: -fill-
    inHandsMaxFillLevels: 65
    equippedFillBaseName: -fill-
    equippedMaxFillLevels: 65
  - type: ThrowableBlocked # Goobstation
  - type: UndetectableContraband #Goobstation-Contraband detector


- type: entity
  name: reinforced spear
  parent: Spear
  id: SpearReinforced
  description: A spear with a reinforced glass shard as a tip.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Melee/reinforced_spear.rsi
  - type: MeleeWeapon
    animationRotation: -65 # WWDP
    wideAnimationRotation: -65
    damage:
      types:
        Piercing: 65
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 65 # Goob edit
  - type: Construction
    graph: SpearReinforced

- type: entity
  name: plasma spear
  parent: Spear
  id: SpearPlasma
  description: A spear with a plasma shard as a tip.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Melee/plasma_spear.rsi
  - type: MeleeWeapon
    animationRotation: -65 # WWDP
    wideAnimationRotation: -65
    damage:
      types:
        Piercing: 65
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 65 # Goob edit
  - type: Construction
    graph: SpearPlasma

- type: entity
  name: uranium spear
  parent: Spear
  id: SpearUranium
  description: A spear with a uranium shard as a tip.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Melee/uranium_spear.rsi
  - type: MeleeWeapon
    animationRotation: -65 # WWDP
    wideAnimationRotation: -65
    damage:
      types:
        Piercing: 65
        Radiation: 65
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 65 # Goob edit
        Radiation: 65 # Goob edit
  - type: Construction
    graph: SpearUranium

- type: entity
  name: bone spear
  parent: Spear
  id: SpearBone
  description: A spear made of bones.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Melee/bone_spear.rsi
  - type: Construction
    graph: SpearBone
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 65 # Goob edit, excess damage avoids cost of spawning entities.
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 65
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
          params:
            volume: -65
      - !type:SpawnEntitiesBehavior
        spawn:
          MaterialBones65:
            min: 65
            max: 65
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
