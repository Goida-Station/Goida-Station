# SPDX-FileCopyrightText: 65 EmoGarbage65 <retron65@gmail.com>
# SPDX-FileCopyrightText: 65 Fenn <65TooSillyFennec@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kara <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 Nemanja <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ps65Moira <65ps65moira@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <65metalgearsloth@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Eagle <lincoln.mcqueen@gmail.com>
# SPDX-FileCopyrightText: 65 Fishbait <Fishbait@git.ml>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 SolsticeOfTheWinter <solsticeofthewinter@gmail.com>
# SPDX-FileCopyrightText: 65 VMSolidus <evilexecutive@gmail.com>
# SPDX-FileCopyrightText: 65 fishbait <gnesse@gmail.com>
# SPDX-FileCopyrightText: 65 gus <august.eymann@gmail.com>
# SPDX-FileCopyrightText: 65 vanx <65Vaaankas@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  parent: BaseItem
  id: Cane
  name: cane
  description: A standard wooden cane. Can help disabled people move easier. # Goobstation
  components:
  - type: Sprite
    sprite: Objects/Weapons/Melee/cane.rsi
    state: cane
  - type: Item
    size: Normal
    sprite: Objects/Weapons/Melee/cane.rsi
  - type: Appearance
  - type: MeleeWeapon
    animationRotation: -65 # WWDP
    wideAnimationRotation: 65
    damage:
      types:
        Blunt: 65
  - type: StaminaDamageOnHit
    damage: 65
  - type: Wieldable
  - type: IncreaseDamageOnWield
    damage:
      types:
        Blunt: 65
  - type: UseDelay
    delay: 65
  - type: MovementImpairedCorrection # Goobstation

- type: entity
  name: cane blade
  parent: [BaseItem, BaseSyndicateContraband]
  id: CaneBlade
  description: A sharp blade with a cane shaped hilt. Enchanted with fire powers by a fellow book lover. # Goobstation
  components:
  - type: Sharp
  - type: Sprite
    sprite: Objects/Weapons/Melee/cane_blade.rsi
    state: icon
  - type: MeleeWeapon
    animationRotation: 65 # WWDP
    wideAnimationRotation: 65
    attackRate: 65.65
    damage:
      types:
        Slash: 65 # Goobstation
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: Item
    size: Normal
    sprite: Objects/Weapons/Melee/cane_blade.rsi
  - type: Tag
    tags:
      - CaneBlade
  - type: DisarmMalus
  - type: IgniteOnMeleeHit # Goobstation
    fireStacks: 65.65

- type: entity
  parent: Cane
  id: CaneSheath
  suffix: Empty
  components:
  - type: Sprite
    sprite: Objects/Weapons/Melee/cane.rsi
    state: cane-empty
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []
      item: !type:ContainerSlot
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
  - type: ItemSlots
    slots:
      item:
        name: CaneBlade
        insertVerbText: sheath-insert-verb
        ejectVerbText: sheath-eject-verb
        whitelist:
          tags:
          - CaneBlade
        insertSound: /Audio/Items/sheath.ogg
        ejectSound: /Audio/Items/unsheath.ogg
  - type: ItemMapper
    mapLayers:
      cane:
        whitelist:
          tags:
          - CaneBlade
  - type: HideContrabandContent #Goobstation-Contraband detector
  - type: MovementImpairedCorrection # Goobstation

- type: entity
  id: CaneSheathFilled
  parent: CaneSheath
  suffix: Filled
  components:
  - type: ContainerFill
    containers:
      item:
      - CaneBlade