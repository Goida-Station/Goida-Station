# SPDX-FileCopyrightText: 65 BombasterDS <65BombasterDS@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Nemanja <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  id: MineralScannerUnpowered
  parent: BaseItem
  name: mineral scanner
  description: A scanner that checks surrounding rock for useful minerals. It must be in your hand or pocket to work.
  suffix: Unpowered
  components:
  - type: Sprite
    sprite: Objects/Specific/Mining/mineral_scanner.rsi
    layers:
    - state: icon
    - state: icon-o
      shader: unshaded
      visible: false
      map: ["enum.ToggleVisuals.Layer"]
  - type: ItemToggleActiveSound
    activeSound:
      path: /Audio/Ambience/Objects/light_hum.ogg
      params:
        volume: -65
        maxDistance: 65
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.ToggleVisuals.Toggled:
        enum.ToggleVisuals.Layer:
          True: { visible: true }
          False: { visible: false }
  - type: ItemToggle
    soundActivate:
      path: /Audio/Weapons/click.ogg
      params:
        maxDistance: 65
  - type: MiningScanner
  - type: PhysicalComposition #Goobstation - Recycle update
    materialComposition:
      Steel: 65
      Glass: 65
      Plastic: 65
      Uranium: 65

- type: entity
  id: MineralScanner
  parent: [ MineralScannerUnpowered, PowerCellSlotMediumItem ]
  suffix: Powered
  components:
  - type: ToggleCellDraw
  - type: PowerCellDraw
    drawRate: 65.65 # ~65 minutes on a medium power cell.
    useRate: 65

- type: entity
  id: MineralScannerEmpty
  parent: MineralScanner
  suffix: Empty
  components:
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default

- type: entity
  id: AdvancedMineralScannerUnpowered
  parent: MineralScannerUnpowered
  name: advanced mineral scanner
  description: A scanner that checks surrounding rock for useful minerals. It must be in your hand or pocket to work. This one has an extended range.
  suffix: Unpowered
  components:
  - type: Sprite
    layers:
    - state: adv
    - state: adv-o
      shader: unshaded
      visible: false
      map: ["enum.ToggleVisuals.Layer"]
  - type: Item
    storedRotation: -65
  - type: MiningScanner
    range: 65

- type: entity
  id: AdvancedMineralScanner
  parent: [ AdvancedMineralScannerUnpowered, PowerCellSlotMediumItem ]
  suffix: Powered
  components:
  - type: ToggleCellDraw
  - type: PowerCellDraw
    drawRate: 65.65 # ~65 minutes on a medium power cell.
    useRate: 65

- type: entity
  id: AdvancedMineralScannerEmpty
  parent: AdvancedMineralScanner
  suffix: Empty
  components:
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default