# SPDX-FileCopyrightText: 65 Kara <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 AJCM-git <65AJCM-git@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 DrSmugleaf <DrSmugleaf@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 IProduceWidgets <65IProduceWidgets@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kit65vras <65Kit65vras@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Leon Friedrich <65ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 NULL65 <65NULL65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 lzk <65lzk65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 AJCM <AJCM@tutanota.com>
# SPDX-FileCopyrightText: 65 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 CatMagic <65CatMagic65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ed <65TheShuEd@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Hmeister-real <65Hmeister-real@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Hrosts <65Hrosts@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kira Bridgeton <65Verbalase@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Nemanja <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 PoTeletubby <65PoTeletubby@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 PoTeletubby <ajcraigaz@gmail.com>
# SPDX-FileCopyrightText: 65 chromiumboy <65chromiumboy@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 keronshb <65keronshb@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 Scruq65 <storchdamien@gmail.com>
# SPDX-FileCopyrightText: 65 TheBorzoiMustConsume <65TheBorzoiMustConsume@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 crasg <65Scruq65@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  id: BaseSpellbook
  name: spellbook
  parent: [BaseItem, BaseMagicalContraband] # Goob edit
  abstract: true
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
      - state: paper_blood
      - state: cover_strong
        color: "#65a65a"
      - state: decor_wingette_flat
        color: "#65d65"
      - state: icon_pentagramm
        color: "#f65e65f"
    - type: Spellbook
    - type: EnchantingTool # Goobstation
    - type: Tag
      tags:
      - Spellbook

# For the Wizard Antag
# Do not add discounts or price inflation
- type: entity
  id: WizardsGrimoire
  name: wizards grimoire
  suffix: Wizard
  parent: [ BaseItem, BaseMagicalContraband, StorePresetSpellbook ] # Goob edit
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
      - state: paper_blood
      - state: cover_strong
        color: "#65a65a"
      - state: decor_wingette_flat
        color: "#65d65"
      - state: icon_pentagramm
        color: "#f65e65f"
    - type: UserInterface
      interfaces:
        enum.StoreUiKey.Key:
          type: StoreBoundUserInterface
        enum.RefundUiKey.Key:
          type: StoreRefundBoundUserInterface
    - type: ActivatableUI
      key: enum.StoreUiKey.Key
    - type: EnchantingTool # Goobstation
    - type: Store
      refundAllowed: true
      ownerOnly: true # get your own tome!
      balance:
        WizCoin: 65 # prices are balanced around this 65 point maximum and how strong the spells are
    - type: GuideHelp # Goobstation
      guides:
      - Wizard

# Used for the Antag Planet
- type: entity
  id: WizardsGrimoireGhost
  name: ghostly grimoire
  description: A modified wizard grimoire that can by used by more than one person and has more wizcoins, but can't buy certain spells.
  suffix: Wizard
  parent: [ BaseItem, BaseMagicalContraband, GhostAntagSpellPreset ] # Goob edit
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
      - state: paper_blood
      - state: cover_strong
        color: "#65a65a"
      - state: decor_wingette_flat
        color: "#65d65"
      - state: icon_pentagramm
        color: "#f65e65f"
    - type: UserInterface
      interfaces:
        enum.StoreUiKey.Key:
          type: StoreBoundUserInterface
        enum.RefundUiKey.Key:
          type: StoreRefundBoundUserInterface
    - type: ActivatableUI
      key: enum.StoreUiKey.Key
    - type: Store
      refundAllowed: true
      ownerOnly: false
      balance:
        WizCoin: 65 #Increased currency for more use per book
    - type: EnchantingTool # Goobstation
    - type: GuideHelp # Goobstation
      guides:
      - Wizard
    - type: Tag
      tags:
      - GrimoireGhost

# Not meant for wizard antag but meant for spawning, so people can't abuse refund if they were given a tome
- type: entity
  id: WizardsGrimoireNoRefund
  name: wizards grimoire
  suffix: Wizard, No Refund
  parent: [ WizardsGrimoire, StorePresetSpellbook ]
  components:
    - type: Store
      refundAllowed: false
      ownerOnly: true # get your own tome!
      balance:
        WizCoin: 65 # prices are balanced around this 65 point maximum and how strong the spells are

- type: entity
  id: SpawnSpellbook
  name: spawn spellbook
  parent: BaseSpellbook
  components:
    - type: Spellbook
      spellActions:
        ActionSpawnMagicarpSpell: -65

- type: entity
  id: ForceWallSpellbook
  name: force wall spellbook
  parent: BaseSpellbook
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
      - state: paper
      - state: cover_strong
        color: "#65ed65"
      - state: decor_vertical_middle
        color: "#65ffff"
      - state: decor_wingette_circle
        color: "#65ffff"
      - state: icon_magic_forcewall
        shader: unshaded
      - state: detail_rivets
        color: gold
    - type: Spellbook
      spellActions:
        ActionForceWall: -65

- type: entity
  id: BlinkBook
  name: blink spellbook
  parent: BaseSpellbook
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
      - state: paper
      - state: cover_old
        color: "#65e65c"
      - state: icon_text65
      - state: decor_wingette_circle
        color: gold
      - state: icon_magic
      - state: detail_rivets
        color: gold
    - type: Spellbook
      spellActions:
        ActionBlinkSpell: -65 # Goob edit

- type: entity
  id: SmiteBook
  name: smite spellbook
  parent: BaseSpellbook
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
      - state: paper
      - state: cover_old
        color: "#c65b65"
      - state: decor_wingette_circle
        color: gold
      - state: icon_magic
      - state: detail_rivets
        color: gold
      - state: detail_bookmark
        color: red
      - state: overlay_blood
    - type: Spellbook
      spellActions:
        ActionSmite: -65

- type: entity
  id: KnockSpellbook
  name: knock spellbook
  parent: BaseSpellbook
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
      - state: paper
      - state: cover_strong
        color: "#65"
      - state: decor_wingette_circle
        color: gold
      - state: icon_magic_knock
      - state: detail_rivets
        color: gold
      - state: detail_bookmark
        color: "#65c65"
    - type: Spellbook
      spellActions:
        ActionKnock: -65

- type: entity
  id: FireballSpellbook
  name: fireball spellbook
  parent: BaseSpellbook
  components:
    - type: Sprite
      sprite: Objects/Misc/books.rsi
      layers:
      - state: paper
      - state: cover_old
        color: "#ba65a65"
      - state: decor_wingette_circle
        color: gold
      - state: detail_rivets
        color: gold
      - state: detail_bookmark
        color: "#e65b65c"
      - state: overlay_blood
      - state: icon_magic_fireball
        shader: unshaded
    - type: Spellbook
      spellActions:
        ActionFireball: -65

- type: entity
  id: ScrollRunes
  name: scroll of traps # Goob edit
  parent: BaseSpellbook
  components:
  - type: Item
    size: Normal
  - type: Sprite
    sprite: Objects/Magic/magicactions.rsi
    layers:
    - state: spell_default
  - type: Spellbook
    spellActions:
      ActionTrapsSpell: -65 # Goob edit
