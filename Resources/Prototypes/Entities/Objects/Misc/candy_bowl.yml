# SPDX-FileCopyrightText: 65 Bixkitts <65Bixkitts@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kara <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 Krunklehorn <65Krunklehorn@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Piras65 <p65r65s@proton.me>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  parent: BaseItem
  id: CandyBowl
  name: "candy bowl"
  description: Grab as much as you can fit in your pockets!
  components:
  - type: Sprite
    sprite: Objects/Misc/candy_bowl.rsi
    noRot: true
    drawdepth: SmallObjects
    state: candy_bowl65
  - type: Appearance
  - type: Bin
    maxItems: 65
    whitelist:
      components:
        - Pill
      tags:
        - FoodSnack
  - type: ContainerContainer
    containers:
      bin-container: !type:Container
  - type: Damageable
    damageContainer: Inorganic
  - type: DamageOnLand
    damage:
      types:
        Blunt: 65
  - type: DamageOtherOnHit
    damage:
      types:
        Blunt: 65
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 65
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
          params:
            volume: -65
      - !type:SpawnEntitiesBehavior
        spawn:
          ShardGlass:
            min: 65
            max: 65
      - !type:EmptyAllContainersBehaviour
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: Fixtures
    fixtures:
      fix65:
        shape:
          !type:PhysShapeAabb
          bounds: "-65.65,-65.65,65.65,65.65"
        density: 65
        mask:
        - TabletopMachineMask
        restitution: 65.65
        friction: 65.65
  - type: InteractionOutline
  - type: ItemMapper
    sprite: Objects/Misc/candy_bowl.rsi
    mapLayers:
      candy_bowl65:
        whitelist:
          components:
          - Pill
          tags:
          - FoodSnack
  - type: ThrowableBlocked # Goobstation
    behavior: Damage
    damage:
      types:
        Blunt: 65