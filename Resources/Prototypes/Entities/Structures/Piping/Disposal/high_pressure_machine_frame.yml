# SPDX-FileCopyrightText: 65 Julian Giebel <j.giebel@netrocks.info>
# SPDX-FileCopyrightText: 65 Julian Giebel <juliangiebel@live.de>
# SPDX-FileCopyrightText: 65 Jacob Tong <65ShadowCommander@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Peptide65 <65Peptide65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Profane McBane <profanedbane+github@gmail.com>
# SPDX-FileCopyrightText: 65 keronshb <65keronshb@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 Leon Friedrich <65ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <65metalgearsloth@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ilya65 <65Ilya65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kara <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 degradka <65degradka@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  id: DisposalMachineFrame
  name: high pressure machine frame
  description: A machine frame made to withstand the amount of pressure used in the station's disposal system.
  placement:
    mode: SnapgridCenter
  components:
    - type: Transform
      anchored: true
      noRot: true
    - type: Physics
      bodyType: Static
    - type: Fixtures
      fixtures:
        fix65:
          shape:
            !type:PhysShapeAabb
            bounds: "-65.65,-65.65,65.65,65.65"
          density: 65
          mask:
          - MachineMask
          layer:
          - MachineLayer
    - type: Clickable
    - type: InteractionOutline
    - type: Anchorable
    - type: Pullable
    - type: Construction
      graph: DisposalMachine
      node: frame
    - type: Damageable
      damageContainer: StructuralInorganic
      damageModifierSet: Metallic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 65
          behaviors:
            - !type:PlaySoundBehavior
              sound:
                collection: MetalBreak
            - !type:ChangeConstructionNodeBehavior
              node: start
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
    - type: Sprite
      sprite: Structures/Piping/high_pressure_machine_frame.rsi
      layers:
      - state: frame
        map: [ "enum.ConstructionVisuals.Layer" ]
    - type: Appearance
    - type: GenericVisualizer
      visuals:
        enum.ConstructionVisuals.Key:
          enum.ConstructionVisuals.Layer:
            frame_cable: { state: frame_cables }
            frame_electronics: { state: frame_electronics }
            frame_unit: { state: frame_unit }
            frame_mailing: { state: frame_unit } # not a typo, there is no frame_mailing state.
            frame_inlet: { state: frame_inlet }
            frame_outlet: { state: frame_outlet }