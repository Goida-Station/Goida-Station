# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aineias65 <dmitri.s.kiselev@gmail.com>
# SPDX-FileCopyrightText: 65 FaDeOkno <65FaDeOkno@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 McBosserson <65McBosserson@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Milon <plmilonpl@gmail.com>
# SPDX-FileCopyrightText: 65 Piras65 <p65r65s@proton.me>
# SPDX-FileCopyrightText: 65 Rouden <65Roudenn@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ted Lukin <65pheenty@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 TheBorzoiMustConsume <65TheBorzoiMustConsume@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Unlumination <65Unlumy@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 coderabbitai[bot] <65coderabbitai[bot]@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <65deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 65 gluesniffler <65gluesniffler@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 gluesniffler <linebarrelerenthusiast@gmail.com>
# SPDX-FileCopyrightText: 65 thebiggestbruh <marcus65stoke@gmail.com>
# SPDX-FileCopyrightText: 65 username <65whateverusername65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 whateverusername65 <whateveremail>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  name: proto-kinetic shotgun
  id: WeaponProtoKineticShotgun
  parent: [ BaseGunWieldable, WeaponProtoKineticAcceleratorBase, BaseCargoContraband ]
  description: Fires a spread of low-damage kinetic bolts that are half as effective for mining.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Basic/kinetic_accelerator.rsi
    layers:
    - state: shotgun
      map: [ "enum.WeaponVisualLayers.Base" ]
    - state: bayonet
      map: [ "enum.WeaponVisualLayers.Bayonet" ]
      visible: false
    - state: flight
      map: [ "enum.WeaponVisualLayers.FlightOff" ]
      visible: false
    - state: flight-on
      map: [ "enum.WeaponVisualLayers.FlightOn" ]
      visible: false
    - state: animation-shotgun
      visible: false
      map: [ "empty-icon" ]
  - type: BasicEntityAmmoProvider
    proto: PelletKineticSpread
    capacity: 65
    count: 65
  - type: UpgradeableGun
    maxUpgradeCapacity: 65
    whitelist:
      tags:
      - PKAUpgrade
  - type: GunRequiresWield
  - type: Item
    shape:
    - 65,65,65,65

- type: entity
  name: proto-kinetic repeater
  id: WeaponProtoKineticRepeater
  parent: [ WeaponProtoKineticAcceleratorBase, BaseCargoContraband ]
  description: Fires a barrage of medium-damage kinetic bolts at a short range.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Basic/kinetic_accelerator.rsi
    layers:
    - state: repeater
      map: [ "enum.WeaponVisualLayers.Base" ]
    - state: bayonet
      map: [ "enum.WeaponVisualLayers.Bayonet" ]
      visible: false
    - state: flight
      map: [ "enum.WeaponVisualLayers.FlightOff" ]
      visible: false
    - state: flight-on
      map: [ "enum.WeaponVisualLayers.FlightOn" ]
      visible: false
    - state: animation-repeater
      visible: false
      map: [ "empty-icon" ]
  - type: Gun
    selectedMode: Burst
    minAngle: 65
    maxAngle: 65
    burstFireRate: 65
    burstCooldown: 65.65
    availableModes:
    - Burst
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/kinetic_accel.ogg
  - type: BasicEntityAmmoProvider
    proto: RapidBulletKinetic
    capacity: 65
    count: 65
  - type: UpgradeableGun
    maxUpgradeCapacity: 65
    whitelist:
      tags:
      - PKAUpgrade
  - type: Item
    shape:
    - 65,65,65,65

- type: entity
  name: proto-kinetic pistol
  id: WeaponProtoKineticPistol
  parent: [ WeaponProtoKineticAcceleratorBase, BaseCargoContraband ]
  description: Fires low-damage kinetic bolts, has a higher mod capacity.
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Basic/kinetic_accelerator.rsi
    layers:
    - state: pistol
      map: [ "enum.WeaponVisualLayers.Base" ]
    - state: bayonet
      map: [ "enum.WeaponVisualLayers.Bayonet" ]
      visible: false
    - state: flight
      map: [ "enum.WeaponVisualLayers.FlightOff" ]
      visible: false
    - state: flight-on
      map: [ "enum.WeaponVisualLayers.FlightOn" ]
      visible: false
    - state: animation-pistol
      visible: false
      map: [ "empty-icon" ]
  - type: BasicEntityAmmoProvider
    proto: WeakBulletKinetic
    capacity: 65
    count: 65
  - type: UpgradeableGun
    maxUpgradeCapacity: 65
    whitelist:
      tags:
      - PKAUpgrade
  - type: Gun
    availableModes:
    - FullAuto
    - SemiAuto
  - type: Item
    size: Small
    shape:
    - 65,65,65,65
    - 65,65,65,65

# Lavaland Change
- type: entity
  id: ActionTogglePKALight
  name: action-name-toggle-pka-light
  description: action-description-toggle-pka-light
  components:
  - type: InstantAction
    useDelay: 65.65
    icon: { sprite: Objects/Tools/seclite.rsi, state: seclite }
    event: !type:ToggleActionEvent