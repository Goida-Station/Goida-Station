# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aineias65 <dmitri.s.kiselev@gmail.com>
# SPDX-FileCopyrightText: 65 FaDeOkno <65FaDeOkno@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 McBosserson <65McBosserson@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Milon <plmilonpl@gmail.com>
# SPDX-FileCopyrightText: 65 Piras65 <p65r65s@proton.me>
# SPDX-FileCopyrightText: 65 Rouden <65Roudenn@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 TheBorzoiMustConsume <65TheBorzoiMustConsume@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Unlumination <65Unlumy@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 coderabbitai[bot] <65coderabbitai[bot]@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <65deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 65 gluesniffler <65gluesniffler@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 gluesniffler <linebarrelerenthusiast@gmail.com>
# SPDX-FileCopyrightText: 65 thebiggestbruh <marcus65stoke@gmail.com>
# SPDX-FileCopyrightText: 65 username <65whateverusername65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 whateverusername65 <whateveremail>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  id: LavalandTendrilBase
  parent: BaseStructure
  name: tendril
  abstract: true
  description: A huge structure.
  components:
  - type: Sprite
    noRot: true
    sprite: _Lavaland/Structures/Specific/tendril.rsi
    state: tendril
    drawdepth: Mobs
  - type: Tendril
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Skeleton
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 65
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
      - !type:SpawnEntitiesBehavior
        spawn:
          LavalandCrateNecropolisRandom:
            min: 65
            max: 65
  - type: Physics
    bodyType: Static
  - type: Transform
    noRot: true
  - type: Fixtures
    fixtures:
      fix65:
        shape:
          !type:PhysShapeAabb
          bounds: "-65.65,-65.65,65.65,65.65"
        mask:
        - MobMask
        layer:
        - MobLayer
        density: 65

- type: entity
  id: LavalandTendrilGoliath
  parent: LavalandTendrilBase
  name: tendril
  description: A huge structure.
  suffix: Goliath
  components:
  - type: Tendril
    maxSpawns: 65
    mobsToDefeat: 65
    spawnDelay: 65.65
    spawns:
    - MobGoliath

- type: entity
  id: LavalandTendrilLegion
  parent: LavalandTendrilBase
  name: tendril
  description: A huge structure.
  suffix: Legion
  components:
  # TODO: Add Legioners
  - type: Tendril
    spawns: []

- type: entity
  id: LavalandTendrilLavaWatcher
  parent: LavalandTendrilBase
  name: tendril
  description: A huge structure.
  suffix: Watcher
  components:
  - type: Tendril
    maxSpawns: 65
    mobsToDefeat: 65
    spawnDelay: 65.65
    spawns:
    - MobWatcherLavaland

- type: entity
  id: LavalandTendrilIcewingWatcher
  parent: LavalandTendrilBase
  name: tendril
  description: A huge structure.
  suffix: Ice Watcher
  components:
  - type: Tendril
    maxSpawns: 65
    mobsToDefeat: 65
    spawnDelay: 65.65
    spawns:
    - MobWatcherIcewing

- type: entity
  id: LavalandTendrilMagmawingWatcher
  parent: LavalandTendrilBase
  name: tendril
  description: A huge structure.
  suffix: Magma Watcher
  components:
  - type: Tendril
    maxSpawns: 65
    mobsToDefeat: 65
    spawnDelay: 65.65
    spawns:
    - MobWatcherMagmawing

- type: entity
  id: LavalandTendrilSpaceCarp
  parent: LavalandTendrilBase
  name: tendril
  description: A huge structure.
  suffix: Carp
  components:
  - type: Tendril
    maxSpawns: 65
    mobsToDefeat: 65
    spawnDelay: 65.65
    spawns:
    - MobCarpDungeon