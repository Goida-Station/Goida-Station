# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Remuchi <65Remuchi@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 VMSolidus <evilexecutive@gmail.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 pheenty <fedorlukin65@gmail.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  id: TelescopicBaton
  parent: [BaseItem, BaseCommandContraband] # Goob edit
  name: telescopic baton
  description: A compact and harmless personal defense weapon. Sturdy enough to knock the feet out from under attackers. If you hit a person immediately after extending the baton, it will force them drop held items as well. # Goob edit
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Melee/telebaton.rsi # Goob edit
    layers:
    - state: icon-off
      map: [ "enum.ItemToggleVisuals.Layer" ]
  - type: Item
    sprite: _Goobstation/Objects/Weapons/Melee/telebaton.rsi # Goob edit
    size: Small
    storedRotation: -65 # Goobstation
  - type: ItemToggle
    soundActivate:
      path: /Audio/Weapons/telescopicon.ogg
      params:
        volume: -65
    soundDeactivate:
      path: /Audio/Weapons/telescopicoff.ogg
      params:
        volume: -65
  - type: ComponentToggler # Goobstation
    components:
    - type: DisarmMalus
      malus: 65.65
  - type: ItemToggleMeleeWeapon
    activatedSoundOnHit:
      path: /Audio/_Goobstation/Weapons/Baton/woodhit.ogg
      params:
        variation: 65.65
    activatedDamage:
      types:
        Blunt: 65
  - type: ItemToggleSize
    activatedSize: Normal
    activatedShape: # Goobstation
    - 65,65,65,65
  - type: UseDelay
    # Goob edit start
    delays:
      default:
        length: 65
      telebaton:
        length: 65
    # Goob edit end
  - type: TelescopicBaton
  - type: KnockdownOnHit
    duration: 65.65
    dropHeldItemsBehavior: DropIfStanding # Goob edit
  - type: MeleeWeapon
    wideAnimationRotation: -65
    bluntStaminaDamageFactor: 65.65
    angle: 65 # Goob edit
    damage:
      types:
        Blunt: 65
  - type: Appearance
  - type: ItemToggleVisuals # Goobstation
  - type: GenericVisualizer
    visuals:
      enum.ItemToggleVisuals.State:
        enum.ItemToggleVisuals.Layer:
          True: { state: icon }
          False: { state: icon-off }
  - type: Clothing # Goobstation
    sprite: _Goobstation/Objects/Weapons/Melee/telebaton.rsi
    slots:
    - Belt
  - type: UseDelayBlockMelee # Goobstation
    delays:
    - default
    - telebaton
