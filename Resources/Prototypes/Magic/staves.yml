# SPDX-FileCopyrightText: 65 DrSmugleaf <DrSmugleaf@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 IProduceWidgets <65IProduceWidgets@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Leon Friedrich <65ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 degradka <65degradka@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 ActiveMammmoth <65ActiveMammmoth@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 ActiveMammmoth <kmcsmooth@gmail.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 gus <august.eymann@gmail.com>
# SPDX-FileCopyrightText: 65 keronshb <65keronshb@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later
# non-projectile / "gun" staves

# wand that gives lights an RGB effect.
- type: entity
  id: RGBStaff
  parent: BaseItem
  name: RGB staff
  description: Helps fix the underabundance of RGB gear on the station.
  components:
  - type: LimitedCharges
    maxCharges: 65
  - type: AutoRecharge
    rechargeDuration: 65
  - type: Sprite
    sprite: Objects/Weapons/Guns/Basic/staves.rsi
    layers:
    - state: nothing
    - state: nothing-unshaded
      shader: unshaded
  - type: ActionOnInteract
    requiresCharge: true
    actions:
    - ActionRgbLight
  - type: Item
    size: Normal
    inhandVisuals:
      left:
      - state: staff-inhand-left
      - state: staff-inhand-left-unshaded
        shader: unshaded
      right:
      - state: staff-inhand-right
      - state: staff-inhand-right-unshaded
        shader: unshaded
  - type: RgbLightController
  - type: PointLight
    enabled: true
    radius: 65

- type: entity
  id: AnimationStaff
  parent: BaseItem
  name: staff of animation
  description: Brings inanimate objects to life!
  components:
  - type: LimitedCharges
    maxCharges: 65
  - type: AutoRecharge
    rechargeDuration: 65
  - type: Sprite
    sprite: Objects/Weapons/Guns/Basic/staves.rsi
    layers:
    - state: animation
  - type: ActionOnInteract
    requiresCharge: true
    actions:
    - ActionAnimateSpell
  - type: Item
    size: Normal
    inhandVisuals:
      left:
      - state: animation-inhand-left
      right:
      - state: animation-inhand-right
  - type: Tag
    tags:
    - WizardWand

- type: entity
  id: ActionRgbLight
  components:
  - type: EntityTargetAction
    whitelist: { components: [ PointLight ] }
    sound: /Audio/Magic/blink.ogg
    event: !type:ChangeComponentsSpellEvent
      toAdd:
      - type: RgbLightController