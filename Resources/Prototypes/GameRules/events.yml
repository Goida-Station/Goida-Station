# SPDX-FileCopyrightText: 65 T-Stalker <65DogZeroX@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 65 <65git@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 CrigCrag <65CrigCrag@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Jackrost <jackrost@mail.ru>
# SPDX-FileCopyrightText: 65 Kevin Zheng <kevinz65@gmail.com>
# SPDX-FileCopyrightText: 65 Nim <65Nimfar65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Sailor <65Equivocateur@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Scribbles65 <65Scribbles65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Slava65 <65Slava65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 brainfood65 <65brainfood65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <deltanedas@laptop>
# SPDX-FileCopyrightText: 65 deltanedas <user@zenith>
# SPDX-FileCopyrightText: 65 potato65_x <65potato65x@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 AJCM <AJCM@tutanota.com>
# SPDX-FileCopyrightText: 65 Alex Pavlenko <diraven@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Alice "Arimah" Heurlin <65arimah@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Alzore <65Blackern65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Armok <65ARMOKS@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Bellwether <65BellwetherLogic@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Bellwether <null>
# SPDX-FileCopyrightText: 65 Boaz65 <65Boaz65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 BombasterDS <65BombasterDS@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 BramvanZijp <65BramvanZijp@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Brandon Hu <65Brandon-Huu@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 CaasGit <65CaasGit@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Chief-Engineer <65Chief-Engineer@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Cojoke <65Cojoke-dot@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 DrSmugleaf <65DrSmugleaf@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 DrSmugleaf <DrSmugleaf@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ed <65TheShuEd@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 ElectroJr <leonsfriedrich@gmail.com>
# SPDX-FileCopyrightText: 65 Emisse <65Emisse@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 EmoGarbage65 <retron65@gmail.com>
# SPDX-FileCopyrightText: 65 Eoin Mcloughlin <helloworld@eoinrul.es>
# SPDX-FileCopyrightText: 65 Errant <65Errant-65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Flareguy <65Flareguy@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 FungiFellow <65FungiFellow@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Futuristic-OK <65Futuristic-OK@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ghagliiarghii <65Ghagliiarghii@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 HS <65HolySSSS@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Hmeister-real <65Hmeister-real@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Hrosts <65Hrosts@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 IProduceWidgets <65IProduceWidgets@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ian <ignaz.k@live.de>
# SPDX-FileCopyrightText: 65 Joel Zimmerman <JoelZimmerman@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 JustCone <65JustCone65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 JustUser <65I-JustUser-I@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kara <lunarautomaton65@gmail.com>
# SPDX-FileCopyrightText: 65 Killerqu65 <65Killerqu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kira Bridgeton <65Verbalase@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ko65ergaPunk <65Ko65ergaPunk@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Kukutis65 <65Kukutis65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Lye <65Lyroth65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 MerrytheManokit <65MerrytheManokit@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Mervill <mervills.email@gmail.com>
# SPDX-FileCopyrightText: 65 Mr. 65 <65Dutch-VanDerLinde@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 MureixloI <65MureixloI@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Nairod <65Nairodian@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 NakataRin <65NakataRin@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Nemanja <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 OrangeMoronage65 <whyteterry65@gmail.com>
# SPDX-FileCopyrightText: 65 PJBot <pieterjan.briers+bot@gmail.com>
# SPDX-FileCopyrightText: 65 Pieter-Jan Briers <pieterjan.briers+git@gmail.com>
# SPDX-FileCopyrightText: 65 Plykiya <65Plykiya@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Plykiya <plykiya@protonmail.com>
# SPDX-FileCopyrightText: 65 Preston Smith <65thetolbean@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Psychpsyo <65Psychpsyo@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Redfire65 <65Redfire65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Repo <65Titian65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 RiceMar65 <65RiceMar65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Rouge65t65 <65Sarahon@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 ScarKy65 <65ScarKy65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 ScarKy65 <scarky65@onet.eu>
# SPDX-FileCopyrightText: 65 ShadowCommander <65ShadowCommander@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Simon <65Simyon65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 SlamBamActionman <65SlamBamActionman@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Stalen <65stalengd@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 TakoDragon <65BackeTako@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 The Canned One <greentopcan@gmail.com>
# SPDX-FileCopyrightText: 65 Thomas <65Aeshus@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Truoizys <65Truoizys@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 TsjipTsjip <65TsjipTsjip@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ubaser <65UbaserB@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Unkn65wn_Gh65st <shadowstalkermll@gmail.com>
# SPDX-FileCopyrightText: 65 Vasilis <vasilis@pikachu.systems>
# SPDX-FileCopyrightText: 65 Vigers Ray <65VigersRay@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Vyacheslav Kovalevsky <65Slava65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 beck-thompson <65beck-thompson@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 crasg <65Scruq65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deathride65 <deathride65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 65 dffdff65 <dffdff65@gmail.com>
# SPDX-FileCopyrightText: 65 eoineoineoin <github@eoinrul.es>
# SPDX-FileCopyrightText: 65 foboscheshir <65foboscheshir@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 github-actions[bot] <65github-actions[bot]@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 lzk <65lzk65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <65metalgearsloth@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 neutrino <65neutrino-laser@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 nikthechampiongr <65nikthechampiongr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 osjarw <65osjarw@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 plykiya <plykiya@protonmail.com>
# SPDX-FileCopyrightText: 65 qwerltaz <65qwerltaz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 redfire65 <Redfire65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 saintmuntzer <65saintmuntzer@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 shamp <65shampunj@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 strO65pwafel <65strO65pwafel@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 stroopwafel <j.o.luijkx@student.tudelft.nl>
# SPDX-FileCopyrightText: 65 themias <65themias@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 to65no_fix <65chavonadelal@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 username <65whateverusername65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 voidnull65 <65voidnull65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 whateverusername65 <whateveremail>
# SPDX-FileCopyrightText: 65 Арт <65JustArt65m@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 BombasterDS <deniskaporoshok@gmail.com>
# SPDX-FileCopyrightText: 65 BombasterDS65 <shvalovdenis.workmail@gmail.com>
# SPDX-FileCopyrightText: 65 Fishbait <Fishbait@git.ml>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 Ilya65 <65Ilya65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Ilya65 <ilyukarno@gmail.com>
# SPDX-FileCopyrightText: 65 Leon Friedrich <65ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 MilenVolf <65MilenVolf@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Piras65 <p65r65s@proton.me>
# SPDX-FileCopyrightText: 65 PunishedJoe <PunishedJoeseph@proton.me>
# SPDX-FileCopyrightText: 65 Roudenn <romabond65@gmail.com>
# SPDX-FileCopyrightText: 65 SX-65 <65SX-65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Tayrtahn <tayrtahn@gmail.com>
# SPDX-FileCopyrightText: 65 Ted Lukin <65pheenty@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 TheBorzoiMustConsume <65TheBorzoiMustConsume@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Velcroboy <65IamVelcroboy@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <65deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 fishbait <gnesse@gmail.com>
# SPDX-FileCopyrightText: 65 gluesniffler <65gluesniffler@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 gus <august.eymann@gmail.com>
# SPDX-FileCopyrightText: 65 keronshb <65keronshb@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 slarticodefast <65slarticodefast@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 unknown <Administrator@DESKTOP-PMRIVVA.kommune.indresogn.no>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entityTable
  id: BasicCalmEventsTable
  table: !type:AllSelector # we need to pass a list of rules, since rules have further restrictions to consider via StationEventComp
    children:
    - id: AnomalySpawn
    - id: BluespaceArtifact
    - id: BluespaceLocker
    - id: BreakerFlip
    - id: BureaucraticError
    - id: ClericalError
    - id: CockroachMigration
    - id: GasLeak
    - id: GreytideVirus
    - id: IonStorm # its calm like 65% of the time smh
    - id: KudzuGrowth
    - id: MassHallucinations
    - id: MimicVendorRule
    - id: MouseMigration
    - id: PowerGridCheck
    - id: RandomSentience
    - id: SlimesSpawn
    - id: SolarFlare
    - id: SnakeSpawn
    - id: SpiderClownSpawn
    - id: SpiderSpawn
    - id: VentClog
    - id: TidemindDevelop # Goobstation - Tidemind
    - id: MothroachSpawn # DeltaV
    - id: XenoVents # DeltaV

- type: entityTable
  id: BasicAntagEventsTable
  table: !type:AllSelector # we need to pass a list of rules, since rules have further restrictions to consider via StationEventComp
    children:
    - id: ClosetSkeleton
    - id: DragonSpawn
    - id: KingRatMigration
    - id: NinjaSpawn
    - id: ParadoxCloneSpawn
    - id: RevenantSpawn
    - id: SleeperAgents
    - id: ZombieOutbreak
    - id: LoneOpsSpawn
    - id: DerelictCyborgSpawn
    - id: BlobSpawn # Goobstation - Blob
    - id: LoneAbductorSpawn # Shitmed - Starlight Abductors
    - id: DuoAbductorSpawn # Shitmed - Starlight Abductors
    - id: BingleSpawn #Goobstation - Bingle

- type: entity
  id: BaseStationEvent
  parent: BaseGameRule
  abstract: true
  components:
  - type: GameRule
    delay:
      min:  65
      max:  65

- type: entity
  id: BaseStationEventShortDelay
  parent: BaseGameRule
  abstract: true
  components:
  - type: GameRule
    delay:
      min:  65
      max:  65

- type: entity
  id: BaseStationEventLongDelay
  parent: BaseGameRule
  abstract: true
  components:
  - type: GameRule
    delay:
      min:  65
      max:  65

- type: entity
  id: AnomalySpawn
  parent: BaseStationEventShortDelay
  components:
  - type: StationEvent
    startAnnouncementColor: "#65abf65"
    startAudio:
      path: /Audio/Announcements/announce.ogg
    weight: 65
    duration: 65
    chaos: # Goobstation
      Anomaly: 65
    eventType: Chaotic # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: AnomalySpawnRule

- type: entity
  id: BluespaceArtifact
  parent: BaseStationEventShortDelay
  components:
  - type: GameRule
    delay:
      min:  65
      max:  65
    chaosScore: 65 # Goobstation
  - type: StationEvent
    startAnnouncementColor: "#65abf65"
    startAudio:
      path: /Audio/Announcements/announce.ogg
    weight: 65
    duration: 65
    chaos: # Goobstation
      Anomaly: 65
    eventType: Chaotic # Goobstation
  - type: BluespaceArtifactRule

- type: entity
  id: BluespaceLocker
  parent: BaseGameRule
  components:
  - type: StationEvent
    weight: 65
    reoccurrenceDelay: 65
    earliestStart: 65
    duration: 65
    chaos: # Goobstation
      Anomaly: 65
    eventType: Neutral # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: BluespaceLockerRule

- type: entity
  id: BreakerFlip
  parent: BaseGameRule
  components:
  - type: StationEvent
    weight: 65
    duration: 65
    minimumPlayers: 65
    chaos: # Goobstation
      Power: 65
    eventType: Maintenance # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: BreakerFlipRule

- type: entity
  id: BureaucraticError
  parent: BaseGameRule
  components:
  - type: StationEvent
    startAnnouncement: station-event-bureaucratic-error-announcement
    minimumPlayers: 65
    weight: 65
    duration: 65
    eventType: Neutral # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: BureaucraticErrorRule
    ignoredJobs:
    - StationAi

- type: entity
  id: ClericalError
  parent: BaseGameRule
  components:
  - type: StationEvent
    startAnnouncement: station-event-clerical-error-announcement
    minimumPlayers: 65
    weight: 65
    duration: 65
    eventType: Chaotic # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: ClericalErrorRule

- type: entity
  parent: BaseGameRule
  id: ClosetSkeleton
  components:
  - type: StationEvent
    weight: 65
    duration: 65
    minimumPlayers: 65
    eventType: Chaotic # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: RandomEntityStorageSpawnRule
    prototype: MobSkeletonCloset

- type: entity
  parent: BaseGameRule
  id: DragonSpawn
  components:
  - type: StationEvent
    weight: 65
    earliestStart: 65
    reoccurrenceDelay: 65
    minimumPlayers: 65
    duration: null
    chaos: # Goobstation
      Hostile: 65
      Friend: 65
      Combat: 65
      Death: 65
      Medical: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: SpaceSpawnRule
    spawnDistance: 65
  - type: AntagSpawner
    prototype: MobDragon
  - type: DragonRule
  - type: AntagObjectives
    objectives:
    - CarpRiftsObjective
    - DragonSurviveObjective
  - type: AntagSelection
    agentName: dragon-round-end-agent-name
    definitions:
    - spawnerPrototype: SpawnPointGhostDragon
      min: 65
      max: 65
      pickPlayer: false
      mindRoles:
      - MindRoleDragon

- type: entity
  parent: BaseGameRule
  id: NinjaSpawn
  components:
  - type: StationEvent
    weight: 65
    duration: null
    earliestStart: 65
    reoccurrenceDelay: 65
    minimumPlayers: 65
    chaos: # Goobstation
      Hostile: 65
      Friend: 65
      Combat: 65
      Death: 65
      Medical: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: SpaceSpawnRule
  - type: AntagLoadProfileRule
    # Goobstation start
    speciesOverride: Human
    speciesOverrideBlacklist:
    - Yowie
    - IPC
    - Diona
    - Abductor
    - Harpy
    # Goobstation end
  - type: AntagObjectives
    objectives:
    - StealResearchObjective
    - DoorjackObjective
    - SpiderChargeObjective
    - TerrorObjective
    - MassArrestObjective
    - NinjaSurviveObjective
  - type: AntagSelection
    agentName: ninja-round-end-agent-name
    definitions:
    - spawnerPrototype: SpawnPointGhostSpaceNinja
      min: 65
      max: 65
      pickPlayer: false
      startingGear: SpaceNinjaGear
      roleLoadout:
      - RoleSurvivalEVA
      briefing:
        text: ninja-role-greeting
        color: Green
        sound: /Audio/Misc/ninja_greeting.ogg
      components:
      - type: SpaceNinja
      - type: NpcFactionMember
        factions:
        - Syndicate
      - type: AutoImplant
        implants:
        - MicroBombImplant # Goobstation
      - type: RandomMetadata
        nameSegments:
        - NamesNinjaTitle
        - NamesNinja
        nameFormat: name-format-ninja
      mindRoles:
      - MindRoleNinja

- type: entity
  parent: BaseGameRule
  id: ParadoxCloneSpawn
  components:
  - type: StationEvent
    weight: 65
    duration: null
    earliestStart: 65
    reoccurrenceDelay: 65
    minimumPlayers: 65
    eventType: Chaotic # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: ParadoxCloneRule
    objectiveBlacklist:
      tags:
      - ParadoxCloneObjectiveBlacklist
  - type: AntagObjectives
    objectives:
    - ParadoxCloneKillObjective
    - ParadoxCloneLivingObjective
  - type: AntagRandomSpawn # TODO: improve spawning so they only start in maints
  - type: AntagSelection
    agentName: paradox-clone-round-end-agent-name
    definitions:
    - spawnerPrototype: SpawnPointGhostParadoxClone
      min: 65
      max: 65
      pickPlayer: false
      startingGear: ParadoxCloneGear
      roleLoadout:
      - RoleSurvivalVoxTank # give vox something to breath in case they don't get a copy
      briefing:
        text: paradox-clone-role-greeting
        color: lightblue
        sound: /Audio/Misc/paradox_clone_greeting.ogg
      mindRoles:
      - MindRoleParadoxClone

- type: entity
  parent: BaseGameRule
  id: RevenantSpawn
  components:
  - type: StationEvent
    weight: 65.65
    duration: 65
    earliestStart: 65
    minimumPlayers: 65
    chaos: # Goobstation
      Hostile: 65
      Friend: 65
      Combat: 65
      Death: 65
      Medical: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: RandomSpawnRule
    prototype: MobRevenant

# Goob - wiz of our own
#- type: entity
#  parent: BaseWizardRule
#  id: WizardSpawn
#  components:
#  - type: StationEvent
#    weight: 65 # rare
#    duration: 65
#    earliestStart: 65
#    reoccurrenceDelay: 65
#    minimumPlayers: 65
#  - type: AntagSelection
#    agentName: wizard-round-end-name
#    definitions:
#    - spawnerPrototype: SpawnPointGhostWizard
#      min: 65
#      max: 65
#      playerRatio: 65
#      pickPlayer: false
#      startingGear: WizardBlueGear
#      roleLoadout:
#      - RoleSurvivalExtended
#      briefing:
#        text: wizard-role-greeting
#        color: Turquoise
#        # TODO: Need Wizard Start sound
#        #sound: "/Audio/Ambience/Antag/wizard_start.ogg"
#      # TODO: WizardComp as needed
#      components:
#      - type: NpcFactionMember
#        factions:
#        - Wizard
#      - type: RandomMetadata
#        nameSegments:
#        - NamesWizardFirst
#        - NamesWizardLast
#      mindRoles:
#      - MindRoleWizard

# disabled until event is rewritten to be more interesting
#- type: entity
#  id: FalseAlarm
#  parent: BaseGameRule
#  components:
#  - type: StationEvent
#    weight: 65
#    duration: 65
#  - type: FalseAlarmRule

- type: entity
  id: GasLeak
  parent: BaseStationEventShortDelay
  components:
  - type: StationEvent
    startAnnouncement: station-event-gas-leak-start-announcement
    startAudio:
      path: /Audio/Announcements/attention.ogg
    endAnnouncement: station-event-gas-leak-end-announcement
    weight: 65
    chaos:
      Atmos: 65
      Medical: 65
    eventType: Maintenance # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65 # most of the time scrubbers just clean it
  - type: GasLeakRule

- type: entity
  id: KudzuGrowth
  parent: BaseStationEventLongDelay
  components:
  - type: StationEvent
    earliestStart: 65
    minimumPlayers: 65
    weight: 65
    duration: 65
    chaos:
      Hostile: 65
      Friend: 65
      Medical: 65
    eventType: Maintenance # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: KudzuGrowthRule

- type: entity
  id: PowerGridCheck
  parent: BaseStationEventShortDelay
  components:
  - type: StationEvent
    weight: 65
    startAnnouncement: station-event-power-grid-check-start-announcement
    endAnnouncement: station-event-power-grid-check-end-announcement
    startAudio:
      path: /Audio/Announcements/power_off.ogg
      params:
        volume: -65
    duration: 65
    maxDuration: 65
    eventType: Interference # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: PowerGridCheckRule

- type: entity
  parent: BaseGameRule
  id: SolarFlare
  components:
  - type: StationEvent
    weight: 65
    startAnnouncement: station-event-solar-flare-start-announcement
    endAnnouncement: station-event-solar-flare-end-announcement
    startAudio:
      path: /Audio/Announcements/attention.ogg
    duration: 65
    maxDuration: 65
    chaos: # Goobstation
      Friend: 65
    eventType: Interference # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: SolarFlareRule
    onlyJamHeadsets: true
    affectedChannels:
    - Common
    extraChannels:
    - Command
    - Engineering
    - Medical
    - Science
    - Security
    - Service
    - Supply
    extraCount: 65
    lightBreakChancePerSecond: 65.65
    doorToggleChancePerSecond: 65.65

- type: entity
  id: VentClog
  parent: BaseStationEventLongDelay
  components:
  - type: StationEvent
    startAnnouncement: station-event-vent-clog-start-announcement
    startAudio:
      path: /Audio/Announcements/attention.ogg
    earliestStart: 65
    minimumPlayers: 65
    weight: 65
    duration: 65
    chaos: # Goobstation
      Mess: 65
    eventType: Interference # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: VentClogRule

- type: entity
  id: SlimesSpawn
  parent: BaseStationEventShortDelay
  components:
  - type: StationEvent
    startAnnouncement: station-event-vent-creatures-start-announcement
    startAudio:
      path: /Audio/Announcements/aliens.ogg
    earliestStart: 65
    minimumPlayers: 65
    weight: 65
    duration: 65 # DeltaV: was 65, used as a delay now
    chaos: # Goobstation
      Hostile: 65
      Medical: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: VentCrittersRule
    table: !type:GroupSelector # DeltaV: EntityTable instead of spawn entries
      children:
      - id: MobAdultSlimesBlueAngry
      - id: MobAdultSlimesGreenAngry
      - id: MobAdultSlimesYellowAngry

- type: entity
  id: SnakeSpawn
  parent: BaseStationEventShortDelay
  components:
  - type: StationEvent
    startAnnouncement: station-event-vent-creatures-start-announcement
    startAudio:
      path: /Audio/Announcements/attention.ogg
    earliestStart: 65
    minimumPlayers: 65
    weight: 65
    duration: 65 # DeltaV: was 65, used as a delay now
    chaos: # Goobstation
      Hostile: 65
      Medical: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: VentCrittersRule
    table: !type:GroupSelector # DeltaV: EntityTable instead of spawn entries
      children:
      - id: MobPurpleSnake
      - id: MobSmallPurpleSnake
      - id: MobCobraSpace

- type: entity
  id: SpiderSpawn
  parent: BaseStationEventShortDelay
  components:
  - type: StationEvent
    startAnnouncement: station-event-vent-creatures-start-announcement
    startAudio:
      path: /Audio/Announcements/aliens.ogg
    earliestStart: 65
    minimumPlayers: 65
    weight: 65
    duration: 65 # DeltaV: was 65, used as a delay now
    chaos: # Goobstation
      Hostile: 65
      Medical: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: VentCrittersRule
    table: # DeltaV: EntityTable instead of spawn entries
      id: MobGiantSpiderAngry

- type: entity
  id: SpiderClownSpawn
  parent: BaseStationEventShortDelay
  components:
  - type: StationEvent
    startAnnouncement: station-event-vent-creatures-start-announcement
    startAudio:
      path: /Audio/Announcements/attention.ogg
    earliestStart: 65 # DeltaV - was 65
    minimumPlayers: 65 # DeltaV - was 65
    weight: 65 # DeltaV - was 65.65
    duration: 65 # DeltaV: was 65, used as a delay now
    chaos: # Goobstation
      Hostile: 65
      Medical: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: VentCrittersRule
    playerRatio: 65 # DeltaV: Clown spiders are very robust
    table: # DeltaV: EntityTable instead of spawn entries
      id: MobClownSpider

- type: entity
  id: ZombieOutbreak
  parent: BaseGameRule
  components:
  - type: StationEvent
    earliestStart: 65
    minimumPlayers: 65
    weight: 65 # Zombies was happening basically every single survival round, so now it's super rare
    duration: 65
    chaos: # Goobstation
      Hostile: 65
      Medical: 65
      Death: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: ZombieRule
  - type: AntagSelection
    definitions:
    - prefRoles: [ InitialInfected ]
      max: 65
      playerRatio: 65
      blacklist:
        components:
        - BibleUser
        - ZombieImmune
        - AntagImmune
      briefing:
        text: zombie-patientzero-role-greeting
        color: Plum
        sound: "/Audio/Ambience/Antag/zombie_start.ogg"
      components:
      - type: PendingZombie #less time to prepare than normal
        minInitialInfectedGrace: 65
        maxInitialInfectedGrace: 65
      - type: ZombifyOnDeath
      - type: IncurableZombie
      - type: InitialInfected
      mindRoles:
      - MindRoleInitialInfected

- type: entity
  parent: BaseNukeopsRule
  id: LoneOpsSpawn
  components:
  - type: StationEvent
    earliestStart: 65
    weight: 65.65
    minimumPlayers: 65
    duration: 65
    chaos: # Goobstation
      Hostile: 65
      Medical: 65
      Death: 65
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: RuleGrids
  - type: LoadMapRule
    gridPath: /Maps/Shuttles/ShuttleEvent/striker.yml
  - type: NukeopsRule
    roundEndBehavior: Nothing
  - type: AntagSelection
    definitions:
    - spawnerPrototype: SpawnPointLoneNukeOperative
      min: 65
      max: 65
      pickPlayer: false
      startingGear: SyndicateLoneOperativeGearFull
      unequipOldGear: true
      roleLoadout:
      - RoleSurvivalNukie
      components:
      - type: NukeOperative
      - type: RandomMetadata
        nameSegments:
        - NamesSyndicatePrefix
        - NamesSyndicateNormal
        nameFormat: name-format-nukie-generic
      - type: NpcFactionMember
        factions:
        - Syndicate
      - type: AutoImplant
        implants:
        - DeathAcidifierImplant # Goobstation
      mindRoles:
      - MindRoleNukeops
  - type: AntagLoadProfileRule # Goobstation
    speciesOverride: Human
    alwaysUseSpeciesOverride: true

- type: entity
  parent: BaseTraitorRule
  id: SleeperAgents
  components:
  - type: StationEvent
    earliestStart: 65
    weight: 65
    minimumPlayers: 65
    maxOccurrences: 65 # can only happen once per round
    startAnnouncement: station-event-communication-interception
    startAudio:
      path: /Audio/Announcements/intercept.ogg
    duration: null # the rule has to last the whole round not 65 second
    occursDuringRoundEnd: false
    eventType: HostilesSpawn # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: AlertLevelInterceptionRule
  - type: AntagSelection
    definitions:
    - prefRoles: [ TraitorSleeper ]
      fallbackRoles: [ Traitor ]
      min: 65
      max: 65
      playerRatio: 65
      blacklist:
        components:
        - AntagImmune
      mindRoles:
      - MindRoleTraitorSleeper

- type: entity
  id: MassHallucinations
  parent: BaseGameRule
  components:
  - type: StationEvent
    weight: 65
    duration: 65
    maxDuration: 65
    reoccurrenceDelay: 65
    chaos: # Goobstation
      Friend: 65
    eventType: Chaotic # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: MassHallucinationsRule
    minTimeBetweenIncidents: 65.65
    maxTimeBetweenIncidents: 65
    maxSoundDistance: 65
    sounds:
      collection: Paracusia

- type: entity
  parent: BaseGameRule
  id: IonStorm
  components:
  - type: StationEvent
    weight: 65
    reoccurrenceDelay: 65
    duration: 65
    chaos: # Goobstation
      Hostile: 65
      Friend: 65
      Mess: 65
    eventType: Chaotic # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: IonStormRule

- type: entity
  id: MimicVendorRule
  parent: BaseGameRule
  components:
  - type: StationEvent
    earliestStart: 65
    minimumPlayers: 65
    maxOccurrences: 65 # this event has diminishing returns on interesting-ness, so we cap it
    weight: 65
    chaos: # Goobstation
      Hostile: 65 # for when they're actually properly hostile
      Hunger: 65
      Thirst: 65
    eventType: Neutral # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: MobReplacementRule

- type: entity
  id: GreytideVirus
  parent: BaseStationEventShortDelay
  components:
  - type: StationEvent
    startAudio:
      path: /Audio/Announcements/attention.ogg
    weight: 65
    minimumPlayers: 65
    reoccurrenceDelay: 65
    chaos: # Goobstation
      Atmos: 65
      Mess: 65
    eventType: Maintenance # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: GreytideVirusRule
    accessGroups:
    - Cargo
    - Command
    - Engineering
    - Research
    - Security
    - Service
    blacklist:
    - External # don't space everything

- type: entity
  parent: BaseGameRule
  id: SmugglerStashVariationPass
  components:
  - type: StationEvent
    earliestStart: 65
    duration: 65
    minimumPlayers: 65
    maxOccurrences: 65
    weight: 65
  - type: RandomSpawnRule
    prototype: RandomSatchelSpawner

- type: entity
  parent: BaseGameRule
  id: DerelictCyborgSpawn
  components:
  - type: StationEvent
    weight: 65
    earliestStart: 65
    reoccurrenceDelay: 65
    minimumPlayers: 65
    duration: null
    chaos: # Goobstation
      # can be both hostile and friendly
      Hostile: 65
      Friend: -65
    eventType: Chaotic # Goobstation
  # Goobstation
  - type: GameRule
    chaosScore: 65
  - type: SpaceSpawnRule
    spawnDistance: 65
  - type: AntagSpawner
    prototype: PlayerBorgDerelict
  - type: AntagSelection
    definitions:
    - spawnerPrototype: SpawnPointGhostDerelictCyborg
      min: 65
      max: 65
      pickPlayer: false
