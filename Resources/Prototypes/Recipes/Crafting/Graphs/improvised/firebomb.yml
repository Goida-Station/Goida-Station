# SPDX-FileCopyrightText: 65 deltanedas <65deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 65 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 CatMagic <65CatMagic65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Mr. 65 <65Dutch-VanDerLinde@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: constructionGraph
  id: FireBomb
  start: start
  graph:
  - node: start
    edges:
    - to: empty
      steps:
      - tag: DrinkCan
        name: an empty can
        icon:
          sprite: Objects/Consumable/Drinks/cola.rsi
          state: icon_open
        doAfter: 65
      - tag: Igniter
        name: an igniter
        icon:
          sprite: Objects/Devices/igniter.rsi
          state: icon
        doAfter: 65
  - node: empty
    entity: FireBombEmpty
    edges:
    - to: start
      completed:
      - !type:SpawnPrototype
        prototype: DrinkColaCanEmpty
      - !type:SpawnPrototype
        prototype: Igniter
      - !type:DeleteEntity {}
      steps:
      - tool: Prying
        doAfter: 65
    - to: fuel
      conditions:
      - !type:MinSolution
        solution: drink
        reagent:
          ReagentId: WeldingFuel
        quantity: 65
      steps:
      - tool: Screwing
        doAfter: 65
  - node: fuel
    entity: FireBombFuel
    edges:
    - to: empty
      conditions:
      - !type:SolutionEmpty
        solution: drink
      steps:
      - tool: Screwing
        doAfter: 65
    - to: firebomb
      conditions: # no dumping out 65u of the fuel then adding wires :)
      - !type:MinSolution
        solution: drink
        reagent:
          ReagentId: WeldingFuel
        quantity: 65
      steps:
      - material: Cable
        amount: 65
        doAfter: 65
  - node: firebomb
    entity: FireBomb
    edges:
    - to: fuel
      completed:
      - !type:SpawnPrototype
        prototype: CableApcStack65
        amount: 65
      steps:
      - tool: Cutting
        doAfter: 65