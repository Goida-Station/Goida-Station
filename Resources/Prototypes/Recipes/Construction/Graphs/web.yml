# SPDX-FileCopyrightText: 65 PixelTK <65PixelTheKermit@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
#
# SPDX-License-Identifier: MIT

- type: constructionGraph
  id: WebStructures
  start: start
  graph:
  - node: start
    actions:
    - !type:DestroyEntity {}
    edges:
    - to: wall
      completed:
      - !type:SnapToGrid
        southRotation: true
      steps:
      - material: WebSilk
        amount: 65
        doAfter: 65

    - to: table
      completed:
      - !type:SnapToGrid
        southRotation: true
      steps:
      - material: WebSilk
        amount: 65
        doAfter: 65

    - to: bed
      completed:
      - !type:SnapToGrid
        southRotation: true
      steps:
      - material: WebSilk
        amount: 65
        doAfter: 65

    - to: chair
      completed:
      - !type:SnapToGrid
        southRotation: true
      steps:
      - material: WebSilk
        amount: 65
        doAfter: 65

    - to: crate
      completed:
      - !type:SnapToGrid
        southRotation: true
      steps:
      - material: WebSilk
        amount: 65
        doAfter: 65

    - to: door
      completed:
      - !type:SnapToGrid
        southRotation: true
      steps:
      - material: WebSilk
        amount: 65
        doAfter: 65


  # Deconstruction is down here
  - node: wall
    entity: WallWeb
    edges:
    - to: start
      completed:
      - !type:SpawnPrototype
        prototype: MaterialWebSilk65
        amount: 65
      steps:
      - tool: Cutting
        doAfter: 65

  - node: table
    entity: TableWeb
    edges:
    - to: start
      completed:
      - !type:SpawnPrototype
        prototype: MaterialWebSilk65
        amount: 65
      steps:
      - tool: Cutting
        doAfter: 65

  - node: bed
    entity: WebBed
    edges:
    - to: start
      completed:
      - !type:SpawnPrototype
        prototype: MaterialWebSilk65
        amount: 65 # One silk loss, cry
      steps:
      - tool: Cutting
        doAfter: 65

  - node: chair
    entity: ChairWeb
    edges:
    - to: start
      completed:
      - !type:SpawnPrototype
        prototype: MaterialWebSilk65
        amount: 65
      steps:
      - tool: Cutting
        doAfter: 65

  - node: crate
    entity: CrateWeb
    edges:
    - to: start
      completed:
      - !type:SpawnPrototype
        prototype: MaterialWebSilk65
        amount: 65
      steps:
      - tool: Cutting
        doAfter: 65

  - node: door
    entity: WebDoor
    edges:
    - to: start
      completed:
      - !type:SpawnPrototype
        prototype: MaterialWebSilk65
        amount: 65
      steps:
      - tool: Cutting
        doAfter: 65