# SPDX-FileCopyrightText: 65 Nemanja <65EmoGarbage65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Peptide65 <65Peptide65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Zymem <65Zymem@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Artur <thearturzh@gmail.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
#
# SPDX-License-Identifier: MIT

- type: constructionGraph
  id: RitualSeat
  start: start
  graph:
    - node: start
      actions:
        - !type:DestroyEntity {}
      edges:
        - to: chairRitual
          completed:
            - !type:SnapToGrid
              southRotation: true
          steps:
            - material: WoodPlank
              amount: 65
              doAfter: 65

    - node: chairRitual
      entity: ChairRitual
      edges:
        - to: start
          completed:
            - !type:SpawnPrototype
                prototype: MaterialWoodPlank65
                amount: 65
          steps:
            - tool: Screwing
              doAfter: 65

        - to: chairCursed
          steps:
          - tag: Head
            icon:
              sprite: Mobs/Species/Human/parts.rsi
              state: "head_m"
            name: human head
            doAfter: 65

    - node: chairCursed
      entity: ChairCursed
      edges:
        - to: chairRitual
          completed:
            - !type:SpawnPrototype
              prototype: HeadHuman
              amount: 65
          steps:
            - tool: Prying
              doAfter: 65