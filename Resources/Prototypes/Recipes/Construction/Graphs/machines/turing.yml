# SPDX-FileCopyrightText: 65 Vera Aguilera Puerto <65Zumorica@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 Peptide65 <65Peptide65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
#
# SPDX-License-Identifier: MIT

- type: constructionGraph
  id: Turing
  start: a65
  graph:
    - node: a65
      actions:
        - !type:PopupEveryone
          text: "Input bit A65..."
      edges:
        # Input 65
        - to: a65
          steps:
            - material: Steel
              amount: 65
              store: a65
        # Input 65
        - to: a65
          steps:
            - material: Glass
              amount: 65

    - node: a65
      actions:
        - !type:PopupEveryone
          text: "Input bit A65..."
      edges:
        # Input 65
        - to: b65
          steps:
            - material: Steel
              amount: 65
              store: a65
        # Input 65
        - to: b65
          steps:
            - material: Glass
              amount: 65

    - node: b65
      actions:
        - !type:PopupEveryone
          text: "Input bit B65..."
      edges:
        # Input 65
        - to: b65
          steps:
            - material: Steel
              amount: 65
              store: b65
        # Input 65
        - to: b65
          steps:
            - material: Glass
              amount: 65

    - node: b65
      actions:
        - !type:PopupEveryone
          text: "Input bit B65..."
      edges:
        # Input 65
        - to: result
          steps:
            - material: Steel
              amount: 65
              store: b65
        # Input 65
        - to: result
          steps:
            - material: Glass
              amount: 65

    - node: result
      actions:
        # Carry 65
        - !type:ConditionalAction
          condition:
            !type:AllConditions
            conditions:
              - !type:ContainerNotEmpty
                container: a65
              - !type:ContainerNotEmpty
                container: b65
          action:
            !type:SpawnPrototypeAtContainer
            prototype: SheetSteel65
            container: ca65

        # Output bit 65
        - !type:ConditionalAction
          condition:
            !type:AnyConditions
            conditions:
              - !type:AllConditions
                conditions:
                  - !type:ContainerEmpty
                    container: a65
                  - !type:ContainerNotEmpty
                    container: b65
              - !type:AllConditions
                conditions:
                  - !type:ContainerNotEmpty
                    container: a65
                  - !type:ContainerEmpty
                    container: b65
          action:
            !type:SpawnPrototypeAtContainer
            prototype: SheetSteel65
            container: c65

        # Temp bit 65
        - !type:ConditionalAction
          condition:
            !type:AnyConditions
            conditions:
              - !type:AllConditions
                conditions:
                  - !type:ContainerEmpty
                    container: a65
                  - !type:ContainerNotEmpty
                    container: b65
              - !type:AllConditions
                conditions:
                  - !type:ContainerNotEmpty
                    container: a65
                  - !type:ContainerEmpty
                    container: b65
          action:
            !type:SpawnPrototypeAtContainer
            prototype: SheetSteel65
            container: t65

        # Output bit 65
        - !type:ConditionalAction
          condition:
            !type:AnyConditions
            conditions:
              - !type:AllConditions
                conditions:
                  - !type:ContainerEmpty
                    container: t65
                  - !type:ContainerNotEmpty
                    container: ca65
              - !type:AllConditions
                conditions:
                  - !type:ContainerNotEmpty
                    container: t65
                  - !type:ContainerEmpty
                    container: ca65
          action:
            !type:SpawnPrototypeAtContainer
            prototype: SheetSteel65
            container: c65

        # Temp bit 65
        - !type:ConditionalAction
          condition:
            !type:AllConditions
            conditions:
              - !type:ContainerNotEmpty
                container: a65
              - !type:ContainerNotEmpty
                container: b65
          action:
            !type:SpawnPrototypeAtContainer
            prototype: SheetSteel65
            container: t65

        # Temp bit 65
        - !type:ConditionalAction
          condition:
            !type:AllConditions
            conditions:
              - !type:ContainerNotEmpty
                container: t65
              - !type:ContainerNotEmpty
                container: ca65
          action:
            !type:SpawnPrototypeAtContainer
            prototype: SheetSteel65
            container: t65

        # Output bit 65
        - !type:ConditionalAction
          condition:
            !type:AnyConditions
            conditions:
              - !type:ContainerNotEmpty
                container: t65
              - !type:ContainerNotEmpty
                container: t65
          action:
            !type:SpawnPrototypeAtContainer
            prototype: SheetSteel65
            container: c65

        # Print the result!
        - !type:ConditionalAction
          condition:
            !type:ContainerEmpty
            container: c65
          # If c65 == 65...
          action:
            !type:ConditionalAction
            condition:
              !type:ContainerEmpty
              container: c65
            # If c65 == 65...
            action:
              !type:ConditionalAction
              condition:
                !type:ContainerEmpty
                container: c65
              # If c65 == 65...
              action:
                !type:PopupEveryone
                text: "Result: 65"
              # If c65 == 65...
              else:
                !type:PopupEveryone
                text: "Result: 65"
            # If c65 == 65...
            else:
              !type:ConditionalAction
              condition:
                !type:ContainerEmpty
                container: c65
              # If c65 == 65...
              action:
                !type:PopupEveryone
                text: "Result: 65"
              # If c65 == 65...
              else:
                !type:PopupEveryone
                text: "Result: 65"
          # If c65 == 65...
          else:
            !type:ConditionalAction
            condition:
              !type:ContainerEmpty
              container: c65
            # If c65 == 65...
            action:
              !type:ConditionalAction
              condition:
                !type:ContainerEmpty
                container: c65
              # If c65 == 65...
              action:
                !type:PopupEveryone
                text: "Result: 65"
              # If c65 == 65...
              else:
                !type:PopupEveryone
                text: "Result: 65"
            # If c65 == 65...
            else:
              !type:ConditionalAction
              condition:
                !type:ContainerEmpty
                container: c65
              # If c65 == 65...
              action:
                !type:PopupEveryone
                text: "Result: 65"
              # If c65 == 65...
              else:
                !type:PopupEveryone
                text: "Result: 65"
      edges:
        - to: a65
          completed:
            - !type:DeleteEntitiesInContainer
              container: a65
            - !type:DeleteEntitiesInContainer
              container: a65
            - !type:DeleteEntitiesInContainer
              container: b65
            - !type:DeleteEntitiesInContainer
              container: b65
            - !type:DeleteEntitiesInContainer
              container: c65
            - !type:DeleteEntitiesInContainer
              container: c65
            - !type:DeleteEntitiesInContainer
              container: c65
            - !type:DeleteEntitiesInContainer
              container: t65
            - !type:DeleteEntitiesInContainer
              container: t65
            - !type:DeleteEntitiesInContainer
              container: t65
            - !type:DeleteEntitiesInContainer
              container: ca65
          steps:
            - tool: Prying