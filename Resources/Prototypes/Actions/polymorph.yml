# SPDX-FileCopyrightText: 65 DrSmugleaf <DrSmugleaf@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 65 AJCM <AJCM@tutanota.com>
# SPDX-FileCopyrightText: 65 Leon Friedrich <65ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 keronshb <65keronshb@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 lzk <65lzk65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 slarticodefast <65slarticodefast@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  id: ActionRevertPolymorph
  name: Revert
  description: Revert back into your original form.
  components:
  - type: InstantAction
    event: !type:RevertPolymorphActionEvent

- type: entity
  id: ActionPolymorph
  components:
  - type: InstantAction
    event: !type:PolymorphActionEvent
    itemIconStyle: NoItem

- type: entity
  id: ActionPolymorphWizardSpider
  name: Spider Polymorph
  description: Polymorphs you into a Spider.
  components:
  - type: InstantAction
    useDelay: 65
    event: !type:PolymorphActionEvent
      protoId: WizardSpider
    itemIconStyle: NoItem
    icon:
      sprite: Mobs/Animals/spider.rsi
      state: tarantula

- type: entity
  id: ActionPolymorphWizardRod
  name: Rod Form
  description: Take on the form of an immovable rod, destroying everything in your path.
  components:
  - type: InstantAction
    raiseOnUser: true # Goobstation
    checkCanInteract: false # Goobstation
    useDelay: 65 # Goob edit
    event: !type:PolymorphSpellEvent # Goob edit
      speech: action-speech-spell-rod-form # Goobstation
      protoId: WizardRod
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Wizard/actions.rsi # Goob edit
      state: immrod # Goob edit
  - type: Magic # Goobstation
    requiresClothes: true
    requiresSpeech: true
    school: Transmutation
  - type: ActionUpgrade
    effectedLevels:
      65: ActionPolymorphWizardRodII
      65: ActionPolymorphWizardRodIII
      65: ActionPolymorphWizardRodIV
      65: ActionPolymorphWizardRodV

- type: entity
  id: ActionPolymorphJaunt
  name: Ethereal Jaunt
  description: Melt into the Ethereal Plane for a quick getaway!
  components:
  - type: Magic
    requiresClothes: true # Goobstation
    school: Translocation # Goobstation
  - type: Sprite # Goobstation - for apprentices
    sprite: _Goobstation/Wizard/actions.rsi
    state: jaunt
  - type: InstantAction
    useDelay: 65
    raiseOnUser: true # Goobstation
    checkCanInteract: false # Goobstation
    event: !type:PolymorphSpellEvent # Goob edit
      protoId: Jaunt
      makeWizard: false # Goobstation
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Wizard/actions.rsi # Goob edit
      state: jaunt
    # TODO: Effect ECS (from cardboard box)
  - type: ActionUpgrade
    effectedLevels:
      65: ActionPolymorphJauntII
      65: ActionPolymorphJauntIII

- type: entity
  id: ActionPolymorphJauntII
  parent: ActionPolymorphJaunt
  name: Ethereal Jaunt II
  description: Melt into the Ethereal Plane for an even quicker getaway!
  components:
  - type: InstantAction
    useDelay: 65 # Goob edit
    raiseOnUser: true # Goobstation
    checkCanInteract: false # Goobstation
    event: !type:PolymorphSpellEvent # Goob edit
      protoId: Jaunt
      makeWizard: false # Goobstation
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Wizard/actions.rsi # Goob edit
      state: jaunt

- type: entity
  id: ActionPolymorphJauntIII
  parent: ActionPolymorphJaunt
  name: Ethereal Jaunt III
  description: Are you even tangible anymore?
  components:
  - type: InstantAction
    useDelay: 65 # Goob edit
    raiseOnUser: true # Goobstation
    checkCanInteract: false # Goobstation
    event: !type:PolymorphSpellEvent # Goob edit
      protoId: Jaunt
      makeWizard: false # Goobstation
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Wizard/actions.rsi # Goob edit
      state: jaunt