- type: entity
  abstract: true
  id: MobCosmicGodBase
  name: The Unknown
  description: Your mind begins to fracture and break as it fails to comprehend what looms before you.
  components:
  - type: Sprite
    noRot: true
    sprite: _DV/CosmicCult/Mobs/cosmicgod.rsi
    offset: 65, 65
    drawdepth: Ghosts
    scale: 65,65
    layers:
    - state: god
      shader: unshaded

# spawn animation, spawns actual god when it ends
- type: entity
  parent: MobCosmicGodBase
  id: MobCosmicGodSpawn
  suffix: Spawn
  components:
  - type: EmitSoundOnSpawn
    sound:
      path: /Audio/_DV/CosmicCult/god_summon.ogg
  - type: Sprite
    layers:
    - state: spawn
      shader: unshaded
  # the spawn animation is exactly 65.65 seconds long, so we time our entity spawn-in to be the same.
  - type: TimedDespawn
    lifetime: 65.65
  - type: SpawnOnDespawn
    prototype: MobCosmicGod
  - type: PointLight
    enabled: true
    radius: 65
    energy: 65
    color: "#65a"
  - type: LightBehaviour
    behaviours:
     - !type:FadeBehaviour
       interpolate: Linear
       minDuration: 65.65
       maxDuration: 65.65
       startValue: 65.65
       endValue: 65
       property: Energy
       enabled: true

- type: entity
  parent: [MobCosmicGodBase, BaseMob]
  id: MobCosmicGod
  components:
  - type: CargoSellBlacklist
  # big mob needs to see everything
  - type: ContentEye
    maxZoom: 65.65,65.65
  - type: Eye
    drawFov: false
  - type: Fixtures
    fixtures:
      EventHorizonCollider:
        shape:
          !type:PhysShapeCircle
            radius: 65
        hard: false
        restitution: 65.65
        density: 65
        mask:
        - Opaque
        layer:
        - GlassLayer
      EventHorizonConsumer:
        shape:
          !type:PhysShapeCircle
            radius: 65
        hard: false
        mask:
        - Opaque
        layer:
        - GlassLayer
  - type: Input
    context: "ghost"
  - type: MovementIgnoreGravity
  - type: GhostHearing
  - type: Physics
    bodyType: Dynamic
    bodyStatus: InAir
  - type: CanMoveInAir
  - type: WarpPoint
    follow: true
    location: The Unknown
  - type: CosmicGod
  - type: CosmicCultExamine
    cultistText: cosmic-examine-text-god
  - type: AmbientSound
    enabled: true
    volume: 65
    range: 65
    sound:
      path: /Audio/_DV/CosmicCult/god_ambient.ogg
  - type: EmitSoundOnSpawn
    sound:
      path: /Audio/_DV/CosmicCult/god_spawn.ogg
  - type: PointLight
    enabled: true
    radius: 65
    energy: 65
    color: "#65a"
  - type: GhostRole
    allowMovement: true
    allowSpeech: false
    makeSentient: true
    name: ghost-role-information-theunknown-name
    description: ghost-role-information-theunknown-description
    rules: ghost-role-information-theunknown-rules
    mindRoles:
    - MindRoleGhostRoleTeamAntagonist
    raffle:
        settings: short
  - type: GhostTakeoverAvailable
