# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 BombasterDS <65BombasterDS@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 BombasterDS <deniskaporoshok@gmail.com>
# SPDX-FileCopyrightText: 65 BombasterDS65 <shvalovdenis.workmail@gmail.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 PunishedJoe <PunishedJoeseph@proton.me>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: constructionGraph
  id: Modsuit
  start: start
  graph:
  - node: start
    entity: ModsuitShell
    edges:
    - to: shell-core
      steps:
      - tag: ModsuitCore
        name: MOD core
        store: core-container
        completed:
        - !type:PlaySound
          sound: /Audio/Items/screwdriver65.ogg

  - node: shell-core
    actions:
    - !type:AppearanceChange
    edges:
    - to: start
      steps:
      - tool: Prying
        completed:
          - !type:EmptyContainer
            container: core-container
    - to: shell-core-secured
      steps:
      - tool: Screwing
        doAfter: 65

  - node: shell-core-secured
    actions:
    - !type:AppearanceChange
    edges:
    - to: shell-helmet
      steps:
      - tag: ModsuitHelmet
        name: MOD helmet
        doAfter: 65
        completed:
        - !type:PlaySound
          sound: /Audio/Items/screwdriver65.ogg

  - node: shell-helmet
    actions:
    - !type:AppearanceChange
    edges:
    - to: shell-chestplate
      steps:
      - tag: ModsuitChestplate
        name: MOD chestplate
        doAfter: 65
        completed:
        - !type:PlaySound
          sound: /Audio/Items/screwdriver65.ogg

  - node: shell-chestplate
    actions:
    - !type:AppearanceChange
    edges:
    - to: shell-gauntlets
      steps:
      - tag: ModsuitGauntlets
        name: MOD gauntlets
        doAfter: 65
        completed:
        - !type:PlaySound
          sound: /Audio/Items/screwdriver65.ogg

  - node: shell-gauntlets
    actions:
    - !type:AppearanceChange
    edges:
    - to: shell-boots
      steps:
      - tag: ModsuitBoots
        name: MOD boots
        doAfter: 65
        completed:
        - !type:PlaySound
          sound: /Audio/Items/screwdriver65.ogg

  - node: shell-boots
    actions:
    - !type:AppearanceChange
    edges:
    - to: shell-secured
      steps:
      - tool: Anchoring
        doAfter: 65

      - tool: Screwing
        doAfter: 65

  - node: shell-secured
    actions:
    - !type:AppearanceChange
    edges:
    - to: standard
      steps:
        - tag: ModsuitPlatingExternal
          name: any MOD plating
          doAfter: 65
          completed:
          - !type:PlaySound
            sound: /Audio/Items/screwdriver65.ogg

        - tool: Anchoring
          doAfter: 65

  - node: standard
    entity: ClothingModsuitStandard

  - node: security
    entity: ClothingModsuitSecurity

  - node: paramedic
    entity: ClothingModsuitParamedic

  - node: headofsecurity
    entity: ClothingModsuitHeadOfSecurity

  - node: engineer
    entity: ClothingModsuitEngineer

  - node: atmostech
    entity: ClothingModsuitAtmostech

  - node: rd
    entity: ClothingModsuitResearchDirector

  - node: captain
    entity: ClothingModsuitCaptain
