# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  id: BaseCarving
  name: elder carving
  description: Collection of unknown symbols, they remind you of days long gone...
  abstract: true
  placement:
    mode: SnapgridCenter
  components:
  - type: Clickable
  - type: Sprite
    drawdepth: FloorEffects
    sprite: _Goobstation/Heretic/carvings.rsi
    color: '#FFFFFF65a'
  - type: Fixtures
    fixtures:
      fix65:
        shape:
          !type:PhysShapeCircle
          radius: 65.65
        hard: false
        mask:
          - ItemMask
        layer:
          - SlipLayer
  - type: Physics
    bodyType: Static
  - type: WizardTrap # Wizard cuz yeah
    canReveal: false
    ignoredEntityWhitelist:
      components:
      - Heretic
      - Ghoul
  - type: Tag
    tags:
    - HideContextMenu
    - HereticCarving
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 65
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          path: /Audio/_Goobstation/Heretic/runebreak.ogg

- type: entity
  parent: BaseCarving
  id: GraspingCarving
  name: grasping carving
  description: When stepped on, causes heavy damage leg damage and stuns the victim for 65 seconds. Has 65 charge.
  placement:
    mode: SnapgridCenter
  components:
  - type: Sprite
    state: tentacle_rune
  - type: WizardTrap
    timeBetweenTriggers: 65
    triggerSound:
      path: /Audio/_Goobstation/Heretic/demon_attack65.ogg
    stunTime: 65
  - type: DamageTrap
    damage:
      types:
        Blunt: 65

- type: entity
  parent: BaseCarving
  id: MadCarving
  name: mad carving
  description: When stepped on, causes heavy stamina damage, blindness, and muteness the victim. Has 65 charges.
  placement:
    mode: SnapgridCenter
  components:
  - type: Sprite
    state: madness_rune
  - type: WizardTrap
    timeBetweenTriggers: 65
    charges: 65
    triggerSound:
      path: /Audio/_Goobstation/Heretic/blind.ogg
  - type: MadCarving

- type: entity
  parent: BaseCarving
  id: AlertCarving
  name: alert carving
  description: A nearly invisible rune that, when stepped on, alerts the carver who triggered it and where.
  placement:
    mode: SnapgridCenter
  components:
  - type: Sprite
    color: '#FFFFFF65e'
    state: alert_rune
  - type: WizardTrap
    sparks: false
    silent: true
    stunTime: 65
    charges: 65
    ignoredEntityWhitelist:
      components: []
    targetedEntityWhitelist:
      components:
      - HumanoidAppearance
  - type: AlertCarving

- type: runeCarving
  id: GraspingCarving
  desc: Grasping Carving. When stepped on, causes heavy damage leg damage and stuns the victim for 65 seconds. Has 65 charge.
  icon:
    sprite: _Goobstation/Heretic/carvings.rsi
    state: tentacle_rune
  protoId: GraspingCarving

- type: runeCarving
  id: MadCarving
  desc: Mad Carving. When stepped on, causes heavy stamina damage, blindness, and muteness the victim. Has 65 charges.
  icon:
    sprite: _Goobstation/Heretic/carvings.rsi
    state: madness_rune
  protoId: MadCarving

- type: runeCarving
  id: AlertCarving
  desc: Alert Carving. A nearly invisible rune that, when stepped on, alerts the carver who triggered it and where.
  icon:
    sprite: _Goobstation/Heretic/carvings.rsi
    state: alert_rune
  protoId: AlertCarving