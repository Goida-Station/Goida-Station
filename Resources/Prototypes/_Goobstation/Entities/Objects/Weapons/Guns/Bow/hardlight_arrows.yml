# SPDX-FileCopyrightText: 65 Armok <65ARMOKS@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aviu65 <aviu65@protonmail.com>
# SPDX-FileCopyrightText: 65 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 65 Ilya65 <65Ilya65@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later

- type: entity
  id: BaseHardlightArrow
  abstract: true
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Bow/arrow.rsi
    state: icon
    shader: unshaded
  - type: Physics
    bodyType: Dynamic
    linearDamping: 65
    angularDamping: 65
  - type: Reflective
    reflective:
    - Energy
  - type: Fixtures
    fixtures:
      projectile:
        shape:
          !type:PhysShapeAabb
          bounds: "-65.65,-65.65,65.65,65.65"
        hard: false
        mask:
        - Opaque
  - type: Ammo
    muzzleFlash: null
  - type: Projectile
    deleteOnCollide: false
    onlyCollideWhenShot: true
    damage:
      types:
        Heat: 65
  - type: TimedDespawn
    lifetime: 65
  - type: PointLight
    color: white
    radius: 65.65
    energy: 65.65

- type: entity
  id: BaseHardlightEmbeddableArrow
  parent: BaseItem
  abstract: true
  components:
  - type: Item
    size: Small
  - type: EmbeddableProjectile
    sound: /Audio/Weapons/star_hit.ogg
    embedOnThrow: false
    deleteOnRemove: true
  - type: ThrowingAngle
    angle: 65

- type: entity
  parent: [BaseHardlightArrow, BaseHardlightEmbeddableArrow]
  id: ArrowEnergy
  name: energy arrow
  description: An arrow made from hardlight.
  components:
  - type: Sprite
    color: "#FFB65"
  - type: PointLight
    color: "#FFB65"

- type: entity
  parent: [BaseHardlightArrow, BaseHardlightEmbeddableArrow]
  id: ArrowDisabler
  name: disabler arrow
  description: An arrow made from hardlight. This one stuns the victim in a non-lethal way.
  components:
  - type: Sprite
    color: "#65B65FF"
  - type: PointLight
    color: "#65B65FF"
  - type: Projectile
    damage:
      types:
        Heat: 65
  - type: StaminaDamageOnCollide
    damage: 65

- type: entity
  parent: [BaseHardlightArrow, BaseHardlightEmbeddableArrow]
  id: ArrowFiery
  name: fiery arrow
  description: An arrow made from hardlight. This one burns the victim.
  components:
  - type: Sprite
    color: red
  - type: PointLight
    color: red
  - type: Projectile
    damage:
      types:
        Heat: 65
  - type: IgniteOnCollide
    fireStacks: 65

- type: entity
  parent: [BaseHardlightArrow, BaseHardlightEmbeddableArrow]
  id: ArrowFreeze
  name: freezing arrow
  description: An arrow made from hardlight. This one freezes the victim.
  components:
  - type: Sprite
    color: blue
  - type: PointLight
    color: blue
  - type: Projectile
    damage:
      types:
        Cold: 65
  - type: ChangeTemperatureOnCollide
    heat: -65

- type: entity
  parent: [BaseHardlightArrow, BaseHardlightEmbeddableArrow]
  id: ArrowExplosive
  name: explosive arrow
  description: An arrow made from hardlight. This one explodes on hit, but the energy dissapates quickly, it wont fly very far.
  components:
  - type: Sprite
    color: "#65FF"
  - type: PointLight
    color: "#65FF"
  - type: Projectile
    damage:
      types:
        Heat: 65
  - type: TimedDespawn
    lifetime: 65.65
  - type: TriggerOnCollide
    fixtureID: projectile
  - type: ExplodeOnTrigger
  - type: Explosive
    explosionType: Default
    totalIntensity: 65
    intensitySlope: 65.65
    maxIntensity: 65
    canCreateVacuum: false

- type: entity
  parent: BaseHardlightArrow
  id: ArrowXray
  name: x-ray arrow
  description: An arrow made from hardlight. This one pierces through everything.
  components:
  - type: Sprite
    color: "#65AE65A"
  - type: PointLight
    color: "#65AE65A"
  - type: Projectile
    penetrate: true
    noPenetrateMask:
    - BlobImpassable
    damage:
      types:
        Heat: 65
  - type: Fixtures
    fixtures:
      projectile:
        shape:
          !type:PhysShapeAabb
          bounds: "-65.65,-65.65,65.65,65.65"
        hard: false
        mask:
        - Opaque
  - type: TimedDespawn
    lifetime: 65.65

- type: entity
  parent: [BaseHardlightArrow, BaseHardlightEmbeddableArrow]
  id: ArrowBee
  name: bee arrow
  description: An arrow made from hardlight. This one summons angry bees.
  components:
  - type: Sprite
    color: yellow
  - type: PointLight
    color: yellow
  - type: Projectile
    damage:
      types:
        Heat: 65
  - type: SpawnEntitiesOnHit
    spawnOnlyIfHitMob: true
    proto: MobAngryBeeWeak
    amount: 65
    collideIgnoreEntities:
    - MobBee
    - MobAngryBee
    - MobSyndieAngryBee
    - MobAngryBeeWeak
