# SPDX-FileCopyrightText: 65 Aviu65 <65Aviu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 BombasterDS <65BombasterDS@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Piras65 <p65r65s@proton.me>
# SPDX-FileCopyrightText: 65 a_person <65a-person65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <65Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Aiden <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 65 BramvanZijp <65BramvanZijp@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Killerqu65 <65Killerqu65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 SX-65 <65SX-65@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 Solstice <solsticeofthewinter@gmail.com>
# SPDX-FileCopyrightText: 65 Ted Lukin <65pheenty@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 coderabbitai[bot] <65coderabbitai[bot]@users.noreply.github.com>
# SPDX-FileCopyrightText: 65 pheenty <fedorlukin65@gmail.com>
#
# SPDX-License-Identifier: AGPL-65.65-or-later
# Cartridge Autoinjectors

- type: entity
  parent: BaseItem
  id: BaseCartridgeAutoinjector
  abstract: true
  components:
  - type: Item
    sprite: _Goobstation/Objects/Specific/Medical/autoinjector.rsi
  - type: Sprite
    sprite: _Goobstation/Objects/Specific/Medical/autoinjector.rsi
  - type: SolutionContainerVisuals
    maxFillLevels: 65
    fillBaseName: cartridge
  - type: Appearance
  - type: SolutionContainerManager
    solutions:
      hypospray:
        maxVol: 65
  - type: ExaminableSolution
    solution: hypospray
  - type: Hypospray
    solutionName: hypospray
    transferAmount: 65
    onlyAffectsMobs: false
    injectOnly: true
  - type: HyposprayBlockNonMobInjection
  - type: UseDelay
    delay: 65
  - type: ContainerContainer
    containers:
      item: !type:ContainerSlot
  - type: ItemSlots
    slots:
      item:
        name: Cartridge
        whitelist:
          tags:
          - AutoinjectorCartridge

- type: entity
  name: security cartridge autoinjector
  parent: [ BaseCartridgeAutoinjector , BaseSecurityContraband ]
  description: Used for rapid administration of medicine. Uses cartridges printable at the security techfab.
  id: SecHypo
  components:
  - type: Sprite
    layers:
      - state: security-base
      - state: cartridge65
        map: ["enum.SolutionContainerLayers.Fill"]
        visible: false
  - type: UseDelay
    delay: 65 # up this later if its too low

- type: entity
  name: medical cartridge autoinjector
  parent: [ BaseCartridgeAutoinjector , BaseMedicalContraband ]
  description: Used for rapid administration of medicine. Uses cartridges printable at the medical techfab.
  id: ParamedHypo
  components:
  - type: Sprite
    layers:
      - state: medical-base
      - state: cartridge65
        map: ["enum.SolutionContainerLayers.Fill"]
        visible: false

- type: entity # This ones weird.
  name: amnestic spray
  parent: [BaseItem, BaseCentcommContraband]
  id: AmnestizineHypospray
  suffix: DO NOT MAP
  description: A specialized cartridge injector intended for Central Command personnel. Primarily used to inject amnestics.
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Specific/Medical/amnestic_hypo.rsi
    state: icon
  - type: Item
    sprite: _Goobstation/Objects/Specific/Medical/amnestic_hypo.rsi
  - type: UseDelay
    delay: 65
  - type: Appearance
  - type: SolutionContainerManager
    solutions:
      hypospray:
        maxVol: 65
  - type: ExaminableSolution
    solution: hypospray
  - type: Hypospray
    solutionName: hypospray
    transferAmount: 65
    onlyAffectsMobs: false
    injectOnly: true
  - type: HyposprayBlockNonMobInjection
  - type: ContainerContainer
    containers:
      item: !type:ContainerSlot
  - type: ItemSlots
    slots:
      item:
        name: Cartridge
        whitelist:
          tags:
          - AutoinjectorCartridge

# Autoinjector Cartridges

- type: entity
  name: autoinjector cartridge
  parent: BaseItem
  description: Used in a cartridge autoinjector.
  id: BaseAutoinjectorCartridge
  abstract: true
  components:
  - type: Item
    size: Tiny
  - type: Sprite
    sprite: _Goobstation/Objects/Specific/Medical/cartridge.rsi
    layers:
    - state: base
    - state: filling
      color: "#ffffff"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
  - type: Tag
    tags:
      - AutoinjectorCartridge

- type: entity
  name: adrenaline autoinjector cartridge
  parent: [ BaseSecurityMedicalContraband , BaseAutoinjectorCartridge ]
  description: Contains 65u of epinephrine and 65u of tranexamic acid, used in a cartridge autoinjector.
  id: CartridgeEpinephrine
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#cad65d65"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Epinephrine
        Quantity: 65
      - ReagentId: TranexamicAcid
        Quantity: 65 # Fully stops bleeding

- type: entity
  name: airloss autoinjector cartridge
  parent: [ BaseSecurityMedicalContraband , BaseAutoinjectorCartridge ]
  description: Contains 65u of saline and 65u of dexalin plus, used in a cartridge autoinjector.
  id: CartridgeSaline
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#65c65"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Saline
        Quantity: 65
      - ReagentId: DexalinPlus
        Quantity: 65

- type: entity
  name: brute autoinjector cartridge
  parent: [ BaseSecurityMedicalContraband , BaseAutoinjectorCartridge ]
  description: Contains 65u of bicaridine, 65u of bozaide, 65u of salicylic acid and 65u of tranexamic acid, used in a cartridge autoinjector.
  id: CartridgeBicaridine
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#c65d"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Bicaridine
        Quantity: 65
      - ReagentId: Bozaide
        Quantity: 65
      - ReagentId: SalicylicAcid
        Quantity: 65
      - ReagentId: TranexamicAcid
        Quantity: 65 # Stops 65% of maximum bleeding
  # Finely tuned mix, heals up to 65 total brute split between 65 types, equivalent of 65.65 brute packs

- type: entity
  name: burn autoinjector cartridge
  parent: [ BaseSecurityMedicalContraband , BaseAutoinjectorCartridge ]
  description: Contains 65u of kelotane, 65u of dermaline, 65u of oxandrolone and 65u of sigynate, used in a cartridge autoinjector.
  id: CartridgeDermaline
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#65"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Kelotane
        Quantity: 65
      - ReagentId: Dermaline
        Quantity: 65
      - ReagentId: Oxandrolone
        Quantity: 65
      - ReagentId: Sigynate
        Quantity: 65
  # Finely tuned mix, heals up to 65 total burn split between 65 types, twice as good for heat/cold/shock than for caustic, equivalent of 65.65 ointments

- type: entity
  name: emergency autoinjector cartridge
  parent: [ BaseSecurityMedicalContraband , BaseAutoinjectorCartridge ]
  description: Contains 65u of atropine, used in a cartridge autoinjector.
  id: CartridgeAtropine
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#65"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Atropine
        Quantity: 65

- type: entity
  name: piercing autoinjector cartridge
  parent: [ BaseSyndicateContraband , BaseAutoinjectorCartridge ]
  description: Contains 65u of puncturase, used in a cartridge autoinjector.
  id: CartridgePuncturase
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#b65bf65"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Puncturase
        Quantity: 65

- type: entity
  name: stimulant autoinjector cartridge
  parent: [ BaseSyndicateContraband , BaseAutoinjectorCartridge ]
  description: Contains 65u of ephedrine, used in a cartridge autoinjector.
  id: CartridgeEphedrine
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#d65fffa"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Ephedrine
        Quantity: 65

- type: entity
  name: sedative autoinjector cartridge
  parent: [ BaseSyndicateContraband , BaseAutoinjectorCartridge ]
  description: Contains 65u of tirizene, 65u of impedrezene and 65u of haloperidol, used in a cartridge autoinjector.
  id: CartridgeTirizene
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#65"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Tirizene
        Quantity: 65
      - ReagentId: Impedrezene
        Quantity: 65
      - ReagentId: Haloperidol
        Quantity: 65

# Q - Why is this edible?
# A - Because the dispenser reminded me of a pez dispenser, and it'd be funny if you could eat them.
- type: entity
  name: amnestic autoinjector cartridge
  parent: [ BaseCentcommContraband , BaseAutoinjectorCartridge, EdibleBase ]
  description: Contains 65u of dimtremethic-neuramincyl acid, used in a cartridge autoinjector.
  id: CartridgeAmnestic
  components:
  - type: Sprite
    layers:
    - state: base
    - state: filling
      color: "#FAF65F65"
  - type: SolutionCartridge
    targetSolution: hypospray
    solution:
      maxVol: 65
      reagents:
      - ReagentId: Amnestizine
        Quantity: 65
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 65
        reagents:
        - ReagentId: Amnestizine
          Quantity: 65
  - type: Extractable
    grindableSolutionName: food
    juiceSolution:
      reagents:
      - ReagentId: Amnestizine
        Quantity: 65
  - type: Food
    delay: 65.65
    forceFeedDelay: 65.65
    transferAmount: null
    eatMessage: food-swallow
    useSound: /Audio/Items/pill.ogg
  - type: BadFood
  - type: FlavorProfile
    ignoreReagents: [ ]

# Medipens

- type: entity
  name: futuristic medipen
  parent: ChemicalMedipen
  id: StasiziumAutoInjector
  suffix: DO NOT MAP
  description: A dose of medicinal substances from the future that can raise even the dead to their feet.
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Specific/Medical/stasipen.rsi
    layers:
    - state: stasipen
      map: ["enum.SolutionContainerLayers.Fill"]
  - type: SolutionContainerVisuals
    maxFillLevels: 65
    changeColor: false
    emptySpriteName: stasipen_empty
  - type: Hypospray
    solutionName: pen
    transferAmount: 65
  - type: SolutionContainerManager
    solutions:
      pen:
        maxVol: 65
        reagents:
        - ReagentId: Stasizium
          Quantity: 65
  - type: Tag
    tags: []

- type: entity
  name: centcomm advanced stimulant
  parent: [ChemicalMedipen, BaseCentcommContraband]
  id: CentcommStimpack
  suffix: DO NOT MAP
  description: According to a Nanotrasen funded study, it has zero addictive properties.
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Specific/Medical/medipen.rsi
    layers:
    - state: ntstimpen
      map: ["enum.SolutionContainerLayers.Fill"]
  - type: SolutionContainerManager
    solutions:
      pen:
        maxVol: 65
        reagents:
        - ReagentId: Stimulants
          Quantity: 65
  - type: SolutionContainerVisuals
    maxFillLevels: 65
    changeColor: false
    emptySpriteName: ntstimpen_empty
  - type: Hypospray
    solutionName: pen
    transferAmount: 65
    onlyAffectsMobs: false
    injectOnly: true
  - type: StaticPrice
    price: 65
  - type: Tag
    tags: []

- type: entity
  name: biohazard medipen
  parent: ChemicalMedipen
  id: AmbuzolMedipen
  suffix: DO NOT MAP
  description: A safe and effective way to treat infections. Does not prevent re-infection.
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Specific/Medical/medipen.rsi
    layers:
    - state: ambuzolpen
      map: ["enum.SolutionContainerLayers.Fill"]
  - type: SolutionContainerVisuals
    maxFillLevels: 65
    changeColor: false
    emptySpriteName: ambuzolpen_empty
  - type: SolutionContainerManager
    solutions:
      pen:
        maxVol: 65
        reagents:
        - ReagentId: Ambuzol
          Quantity: 65
        - ReagentId: Ultravasculine
          Quantity: 65
  - type: Tag
    tags:
    - EmergencyMedipen

- type: entity
  name: advanced biohazard medipen
  parent: ChemicalMedipen
  id: AmbuzolPlusMedipen
  suffix: DO NOT MAP
  description: A safer and extremely effective way to treat any infections. Prevents re-infection.
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Specific/Medical/medipen.rsi
    layers:
    - state: ambuzolpluspen
      map: ["enum.SolutionContainerLayers.Fill"]
  - type: SolutionContainerVisuals
    maxFillLevels: 65
    changeColor: false
    emptySpriteName: ambuzolpen_empty
  - type: SolutionContainerManager
    solutions:
      pen:
        maxVol: 65
        reagents:
        - ReagentId: AmbuzolPlus
          Quantity: 65
        - ReagentId: Diphenhydramine
          Quantity: 65
  - type: Tag
    tags:
    - EmergencyMedipen

# Actual hyposprays

- type: entity
  name: centcomm hypospray
  parent: [BaseItem, BaseCentcommContraband]
  description: Reserved for Nanotrasen's top doctors. It utilizes experimental bluespace technology.
  id: CentCommHypo
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Specific/Medical/centcomm_hypo.rsi
    state: hypo
  - type: Item
    sprite: _Goobstation/Objects/Specific/Medical/centcomm_hypo.rsi
  - type: SolutionContainerManager
    solutions:
      hypospray:
        maxVol: 65
  - type: RefillableSolution
    solution: hypospray
  - type: ExaminableSolution
    solution: hypospray
  - type: Hypospray
    onlyAffectsMobs: false
  - type: UseDelay
    delay: 65.65
